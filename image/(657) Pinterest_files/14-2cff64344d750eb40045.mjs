(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[14,"facebookEnsureInitForDesktop"],{"+tKw":function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("nKUr"),o=n("q1tI"),r=n("Y+p1"),a=n.n(r),s=n("qD10");const c="__HashtagFlag__",l=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,d=(e,t)=>`/search/pins/?q=${encodeURIComponent(e)}&rs=${t}`;const u={hashtags:function(e,t){const n=t.appendText||"",o=t.source||"hashtag_pinrep";let r=[];const a=[],u={};let p=0;const h=e=>(t,n)=>{if(t===c&&a.length){const t=a.shift();return p+=1,Object(i.jsx)(s.a,{to:d(t,o),children:Object(i.jsx)("span",{className:"pinHashtag",children:t})},`hashtag-${e}.${n}`)}return t};for(let i=0;i<e.length;i+=1){const t=e[i];if("string"==typeof t){const e=t.replace(l,e=>(a.push(e),u[e]=!0,c)).split(new RegExp("(__HashtagFlag__)")).map(h(i));r=[...r,...e]}else r.push(t)}const b=[];return n&&n.replace(l,(e,t)=>(!u[e]&&p<4&&(p+=1,b.push(Object(i.jsxs)("span",{children:[" ",Object(i.jsx)(s.a,{to:d(e,o),children:Object(i.jsx)("span",{className:"pinHashtag",children:e})})]},"appended"+t)),u[e]=!0),e)),r=[...r,...b],r}};class p extends o.Component{shouldComponentUpdate(e){return!a()(this.props,e)}render(){const{text:e,options:t}=this.props;if("string"==typeof e&&""===e.trim())return e;let n=[e];for(const i of Object.keys(u))if(i in t){n=(0,u[i])(n,t[i])}return Object(i.jsx)("span",{children:n})}}},"+zF7":function(e,t,n){var i=n("LqyK"),o=n("TN0d"),r=n("eOdZ"),a=n("G35+"),s=n("dwea"),c=n("mBfy");function l(){}Object.assign(l.prototype,{handleConnect(e,t,n){if(t&&!c.default.isLimitedLogin()){const o={success:function(i){const o={network:e,data:i};this._internalConnectNetwork(t,o,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?o.windowOptions="width=600,height=800":"instagram"===e?o.windowOptions=i.default.getWindowOptions(580,580):"etsy"===e?o.windowOptions=i.default.getWindowOptions(580,775):"youtube"===e&&(o.windowOptions=i.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,o)}else{const i={network:e};this._internalConnectNetwork(t,i,n)}},updateConnectStatus(){r.a.create("UserResource",{user_id:c.default.get("id"),username:c.default.get("username"),field_set_key:"social_connect"}).callGet().then(e=>{const t=e.resource_response.data;c.default.set(t),o.a.instance.publish("currentUser","socialNetworkUpdated",t)})},_externalConnectNetwork(e,t,n){t?a.a.instance().connect(e,n):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const i=r.a.create("UserSocialNetworkResource",t);(e?i.callCreate():i.callDelete()).then(e=>{this.updateConnectStatus(),n.success&&n.success(e)},e=>{n.error&&e instanceof Object&&n.error(e)}).finally(()=>{n.complete&&n.complete()})},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case a.a.FACEBOOK:t="UserFacebookFriendsResource";break;case a.a.TWITTER:t="UserTwitterFriendsResource";break;case a.a.GOOGLE:t="UserGmailFriendsResource";break;case a.a.MICROSOFT:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},i=this._getResourceNameForNetworkFriends(e);if(!i)return;const o=r.a.create(i,n);o.callGet({showError:!1}).then(()=>{const e=t.success;e&&e(o)},n=>{if(110===n.api_error_code)s.a.setTimeout(()=>{this.pollForFriends(e,t)},1e3);else{const e=t.error;e&&e()}})}});let d=null;l.instance=function(){return d||(d=new l),d},t.a=l},"0K1N":function(e,t,n){t.a=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},"0S8y":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d}));var i=n("VBRM"),o=n("YWqT"),r=n("F08S");function a(e){const t={},n=e.trim();n.length>0&&(t.full_name=n);const i=n.split(/ (.+)/);return""===i[0]&&i.shift(),i.length>0&&(t.first_name=i[0]||""),i.length>1&&(t.last_name=i[1]||""),t}function s({user:e,days:t=28}){if(!e||!e.createdAt)return!1;const n=new Date(e.createdAt),i=Object(r.a)(-t,n),a=new Date;return!Object(o.a)(a,i)}function c({user:e,days:t=28}){if(!e.resurrectionInfo)return!1;const n=e.resurrectionInfo.resurrectionDate,r=new Date,a=n?new Date(n):r,s=Object(i.a)(a,t);return Object(o.a)(s,r)}function l(e){return e&&e[1000069]&&500417===e[1000069].experience_id}function d(e){var t;return 502450===(null==e||null===(t=e[1000294])||void 0===t?void 0:t.experience_id)}},"0bYG":function(e,t){e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},"0nTG":function(e,t,n){n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return m}));var i=n("mwIZ"),o=n.n(i),r=n("ZbwW"),a=n("uhAL");const s=e=>!!e&&(e.shopping_flags||[]).includes(2),c=e=>e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products.length>0,l=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},d=e=>{var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},u=e=>{const t=o()(e,"link_domain.official_user.full_name");if(t)return t;const n=o()(e,"rich_summary.site_name");if(n)return n;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const i=o()(e,"via_pinner.full_name");return e.is_repin&&i?i:void 0},p=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function h(e,t={}){const n=p(e),i={...t.commerce_data};n.includes(2)&&(i.pin_is_shop_the_look=!0),n.includes(1)&&(i.is_available=!0),n.includes(5)&&(i.is_product_pin_v2=!0),n.includes(6)&&(i.is_rich_product_pin=!0),n.includes(10)&&(i.is_organic_product_carousel=!0);if((!!e.visual_objects&&Object(a.c)(e.visual_objects)||[]).some(e=>!0===e.is_stela)&&(i.pin_is_stela=!0),e.is_eligible_for_pdp){i.pin_show_pdp=!0;const t=Object(r.a)(e);t&&(i.image_count=t.carousel_slots.length,i.image_index=t.index)}const o=e.aggregated_pin_data||{};return(null==o?void 0:o.is_shop_the_look)&&(i.pin_is_shop_the_look=!0),i}function b(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const m=(e,t={})=>{if(e){return b(h(e,t))}return null}},"1Fta":function(e,t,n){var i=n("kmwA"),o=n("pSsd");const r=e=>e.length>32?e.substring(0,32).trim()+"...":e;t.a=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return i.a.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.a.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return i.a.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:o,makeNavigateLink:a,pinner:s,promoter:c,recommendationReason:l,sourceInterest:d})=>{switch(o){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:o,url:u}=l.board,p=a("navigation",u,o);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:p});case"topic":const{name:h,url_name:b}=d,m=a("topicUrl","/topics/"+b,h);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:m});case"followed":const f="/"+s.username,g=a("boardUrl",i.url,r(i.name)),j=a("pinnerUrl",f,r(s.full_name));return s.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:j}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:g});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:i}=c,o=a("promotedLink",i?"/"+i+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:o,recommendation_reason:r},pinner:a}){const s=t&&t.type;return i&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||a&&a.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:o,complaintReason:r,throughId:a,throughProperties:s,clientTrackingParams:c})=>{const l="promoted"===t;let d,u;switch(t){case"promoted":d="promotedComplaint";break;case"search":d="unrelatedSearchPin";break;case"related":d="relatedPinHide";break;case"newsHub":d="newsHubPinHide";break;default:d="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:o||1,promoted:l,...a?{through_id:a}:{},...s?{through_properties:s}:{},...c?{client_tracking_params:c}:{}}}return{action:d,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:r,pinner:a,sourceInterest:s})=>{if("topic"===i){if(s){const{id:n,name:i,url_name:a}=s,c=r("topicUrl","/topics/"+a,i,!0),l=t(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:c});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:o.a},title:"",subTitle:l}}}else if("followed"===i&&n&&a){const{id:i,name:o,url:s}=n||{},{explicitly_followed_by_me:c,full_name:l,username:d}=a,u="/"+d,p=r("boardUrl",s,o,!0),h=r("pinnerUrl",u,l,!0);let b=c?t(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:h,formattedBoard:p}):t(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p});return b=c?t(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:h}):t(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:b}}return null}})},"1Nkp":function(e,t,n){var i=n("kmwA"),o=n("28DW");const r={scope:"profile email",client_id:i.a.settings.GPLUS_CLIENT_ID,app_package_name:i.a.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},a=e=>(Object(o.a)("unauth_web.gapi_auth2_load.success"),e()),s=e=>{Object(o.a)("unauth_web.init_google.sdk."+e)};t.a=(e=r)=>new Promise((t,n)=>{s("start"),window.gapi.auth2?(s("exists"),window.gapi.auth2.init(e).then(()=>a(t))):(s("load"),window.gapi.load("auth2",{callback:()=>{s("load_success"),window.gapi.auth2.init(e).then(()=>a(t))},onerror:()=>{s("load_error"),n()},timeout:15e3,ontimeout:()=>{s("load_timeout"),n()}}))})},"2U5n":function(e,t,n){const i=["orig","736x","564x","474x","236x","170x"];t.a=(e,t)=>{const n=e[t];if(n)return n;const o=i.indexOf(t);if(o>=0)for(let r=o+1;r<i.length;r+=1){const t=e[i[r]];if(t)return t}return e["236x"]}},"37no":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}));var i=n("7w6Q");const o=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2});function r(e){return new Promise((t,n)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const i=document.createElement("script");i.src=e,i.async=!0,i.addEventListener("load",t),i.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(i)})}function a(e,t=o.OTHER,n=!1){const r=n?"web":"mweb";return new Promise((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===o.GPLUS_ONE)if(window.gapi)n();else{const t=setInterval(()=>{window.gapi||20===e?(clearInterval(t),n()):(e+=1,i.a.increment(`${r}.loadScript.gplus_one.tries_${e}`,.01))},100)}else if(t===o.FACEBOOK)if(window.FB)n();else{const t=setInterval(()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.a.increment(`${r}.loadScript.facebook.tries_${e}`,.01))},100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",n),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}})}},"3qdF":function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("nKUr"),o=n("4Utz"),r=n("n6mq");const a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:s}=n||{},c=s&&s.length>=3?s.slice(0,3):[];return Object(i.jsx)(r.e,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:c.map(n=>{const s=n.images["750x"]||{},c=Object(i.jsx)(r.w,{alt:"",fit:"cover",naturalHeight:s.height,naturalWidth:s.width,src:s.url});return Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:Object(i.jsx)(r.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:Object(i.jsx)(r.B,{height:"100%",wash:!0,width:"100%",children:t?Object(i.jsx)(o.a,{additionalStyles:{width:"100%",height:"100%"},collageChipId:n.id,pin:e,children:c}):c})})})},n.id)})})}},"4+TC":function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("TSYQ"),a=n.n(r),s=n("Ye/N"),c=n("qD10"),l=n("n6mq");class d extends o.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout(()=>{this.setState({showBoardName:!0})},950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isNewlySaved:t,shouldUseLegoStyles:n,name:o,url:r}=this.props;let d,u;if(!t||e||n){const e=n?Object(i.jsx)(l.U,{color:"white",size:"lg",weight:"bold",children:o.length<=8?o:o.substring(0,8).trim()+"..."}):Object(i.jsx)(l.t,{color:"white",size:"sm",truncate:!0,children:o});d=r?Object(i.jsx)(c.a,{to:r,children:e}):e}else d=Object(i.jsx)(l.U,{color:"white",children:Object(i.jsx)("span",{className:"deprecatedTextSizeXL",children:s.a._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return t&&(u=e?"board":"saved"),Object(i.jsx)("div",{"data-test-id":"savedInfo",style:{paddingLeft:n?16:void 0,paddingRight:n?16:void 0},className:n?a()("Lego__SavedPin",u):a()("SavedAnimation",u),children:d})}}t.a=d},"4Utz":function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("nKUr"),o=n("qD10"),r=n("FgHp"),a=n("0nTG"),s=n("Y8Sn"),c=n("U4JR"),l=n("QAzJ"),d=n("gD/Z");function u({additionalStyles:e={},children:t,collageChipId:n,componentType:u,contextLogData:p,elementType:h,pin:b,viewParameter:m,viewType:f}){const g=Object(d.b)(),{group:j}=Object(l.a)("web_preload_story_pin_video_in_feed"),{carousel_data:O,id:_,story_pin_data:y}=b;let x,w=`/pin/${n||_}/`;if(O){const{carousel_slots:e=[],id:t,index:n}=O;w=`/pin/${_}/`,x={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}x={...x||{},...Object(a.f)(b,p)||{}};return Object(i.jsx)(o.a,{auxData:x,onClick:()=>{y&&"enabled_click"===j&&Object(r.a)(y),Object(c.b)(101,{...p,component:u||g.componentType,element:h,objectId:_,view:f||g.viewType,viewParameter:m||g.viewParameter,...Object(a.f)(b,p)||{}}),Object(s.e)()&&Object(c.b)(8948,{closeup_navigation_type:"click",view:f||g.viewType,viewParameter:m||g.viewParameter,component:u||g.componentType,element:h,objectId:_,...p,...Object(a.f)(b,p)||{}})},pinId:_,style:{cursor:"zoom-in",display:"block",...e},to:w,children:t})}},"4cTg":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a}));var i=n("q1tI"),o=n("dKiF");const r=Object(o.d)(({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:i,width:o})=>({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:i,width:o})),a={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",width:null};t.b=Object(i.createContext)(a)},5871:function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("Nle8"),s=n("E/VT"),c=n("R6wO"),l=n("1Fta"),d=n("Ye/N"),u=n("qD10"),p=n("eqXv"),h=n("vvax"),b=n("0bYG"),m=n("U4JR"),f=n("n6mq");function g({feedbackData:e,feedbackType:t,pinId:n,onHide:o,recommendationReason:r,viewParameter:a,viewType:s}){const u=()=>{switch(t){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}},g=Object(l.a)({i18n:d.a,interpolateNamedTemplate:h.b}),j=(i,c)=>{const l=r&&r.reason&&b.ReasonToChoose[r.reason],d=r&&((null==r?void 0:r.reason_id)?r.reason_id:(null==r?void 0:r.board)?r.board.id:(null==r?void 0:r.pin)?r.pin.id:(null==r?void 0:r.interest)?r.interest.id:""),h=r&&(null==r?void 0:r.through_properties),{action:f,actionOptions:j}=g.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:l,throughId:d,throughProperties:h,complaintReason:i});(e=>{Object(m.b)(101,{view:s,viewParameter:a,element:e,component:u()})})(c),Object(p.a)(f,j),o()},O="promoted"===t?[{text:d.a._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:d.a._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:d.a._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:d.a._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:d.a._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:d.a._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:d.a._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:d.a._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return Object(i.jsxs)(f.e,{overflow:"hidden",rounding:2,width:"100%",children:[Object(i.jsx)(f.e,{paddingX:4,paddingY:4,children:Object(i.jsx)(f.U,{color:"darkGray",size:"md",children:d.a._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback")})}),Object(i.jsx)(f.o,{}),Object(i.jsx)(f.e,{paddingY:2,children:O.map(({text:e,reason:t,elementType:n})=>Object(i.jsx)(f.T,{fullWidth:!1,onTap:()=>j(t,n),children:Object(i.jsx)(c.a,{compact:!0,text:e})},e))})]})}var j=n("hFNL"),O=n("4cpq"),_=n("ANjH"),y=n("pSsd"),x=n("DJoW"),w=n("EC67");function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S={color:"white",textDecorationColor:"white"};class T extends o.Component{constructor(e){super(e),v(this,"getRecommendationDescription",()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a})}),v(this,"getRecommendationDescriptionImage",()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:o}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let r,a,s;return n&&n.explicitly_followed_by_me?(r=n.image_small_url,a="50%",s="/"+n.username):e&&e.image_thumbnail_url&&(r=e.image_thumbnail_url,a="4px",s=o&&o.board&&o.board.url||e.url),r?Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{borderRadius:a}},flex:"none",marginStart:3,overflow:"hidden",children:Object(i.jsx)(f.T,{onTap:()=>this.props.history.push(s),children:Object(i.jsx)(f.B,{height:40,wash:!0,width:40,children:Object(i.jsx)(f.w,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:r})})})}):null}),v(this,"getUnfollowAction",()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:i}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:i})}),v(this,"getUndoText",e=>"unfollowPinner"===e||"unfollowBoard"===e?d.a._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):""),v(this,"generateUndoHideCallback",(e,t)=>()=>{const{dispatch:n,pinId:i,viewType:o,viewParameter:r}=this.props,a={...e,undo:!0};let s=t;"unfollowPinner"===t?s="followPinner":"unfollowBoard"===t?s="followBoard":"unfollowTopic"===t&&(s="followTopic"),Object(p.a)(s,a),n(Object(x.b)(i)),Object(m.b)(101,{component:0,element:11181,view:o,viewParameter:r})}),v(this,"feedbackHelpers",Object(l.a)({i18n:d.a,interpolateNamedTemplate:h.b})),v(this,"makeNavigateLink",(e,t,n,o)=>{const r={display:"inline",...o?S:{}};return Object(i.jsx)(u.a,{className:"underlineLink",onClick:this.props.onLinkClick,to:t,children:Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:r},children:n})},e)}),v(this,"reportPinOption",()=>({action:"reportPin",elementType:974,text:d.a._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:d.a._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin})),v(this,"hidePinOption",e=>{const{feedbackData:t,feedbackType:n,pinId:i,recommendationReason:o}=this.props,r="search"===n?973:982,{action:s,actionOptions:c}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:o&&o.reason&&b.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===n?4:10,throughId:o&&this.getThroughId(),throughProperties:o&&this.getThroughProperties(),clientTrackingParams:Object(a.a)(i)}),l=d.a._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:s,actionOptions:c,feedbackText:this.pinHiddenFeedbackText(e),text:l,description:d.a._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}}),v(this,"stopRecommendationOption",()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:i}=this.props,{board:o,reason:r}=null!=i?i:{},s=r&&b.ReasonToChoose[r],c=i&&this.getThroughId(),l=i&&this.getThroughProperties(),u="pfyBoard"===t,{action:p,actionOptions:m}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:s,pinFeedbackType:u?2:4,throughId:c,throughProperties:l,clientTrackingParams:Object(a.a)(n)}),f=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:p,actionOptions:m,feedbackText:{subTitle:u&&o?Object(h.b)(d.a._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:f}):d.a._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:u&&o?Object(h.b)(d.a._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:o.name}):d.a._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),v(this,"unfollowBoardOption",()=>{const{board:e}=this.props,t=e?this.makeNavigateLink("boardUrl",e.url,e.name,!0):"",n=Object(h.b)(d.a._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==e?void 0:e.name}),i=Object(h.b)(d.a._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:t});return{action:"unfollowBoard",actionOptions:{board_id:null==e?void 0:e.id},feedbackText:{title:"",subTitle:i},text:n,description:Object(h.b)(d.a._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==e?void 0:e.name}),elementType:10614}}),v(this,"unfollowTopicOption",()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n,url_name:i}=e,o="/topics/"+i,r=this.makeNavigateLink("topicUrl",o,n,!0),a=Object(h.b)(d.a._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),s=Object(h.b)(d.a._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:y.a},feedbackText:{title:"",subTitle:s},text:a,description:Object(h.b)(d.a._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null}),v(this,"unfollowUserOption",()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},o="/"+n,r=e?this.makeNavigateLink("pinnerUrl",o,i,!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:Object(h.b)(d.a._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:Object(h.b)(d.a._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:d.a._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),v(this,"downloadPinOption",()=>({action:"downloadPin",text:d.a._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836})),v(this,"_pinFeedbackText",()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:i}=this.props,o="followed"===this.props.feedbackType,r=e.pathname.includes("following"),a=(o||"topic"===t)&&!r,s=this.hidePinOption(a),c=this.reportPinOption(),l="promoted"!==t&&!n;switch(t){case"followed":const e=r,n=!e&&this.getRecommendationDescription(),o=(null==i?void 0:i.explicitly_followed_by_me)?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[s,...a||e?[o]:[],..."promoted"!==t?[this.downloadPinOption()]:[],c]};case"promoted":const{ad_match_reason:u}=this.props,p=[s,{link:this.feedbackHelpers.getLearnMoreUrl(u),text:d.a._("Why am I seeing this ad?","Link to promoted pins explanation page","Link to promoted pins explanation page"),dataTestId:"why-am-i-seeing-this-ad"},c];return{description:this.getRecommendationDescription(),options:p};case"topic":const h=this.unfollowTopicOption(),b=[s,...a&&h?[h]:[],...l?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:b};case"pfy":case"pfyBoard":const m=[s,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...l?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:m};default:const f=[s,...l?[this.downloadPinOption()]:[],c];return{description:this.getRecommendationDescription(),options:f}}}),v(this,"pinHiddenFeedbackText",e=>{const t=e?null:this.getUnfollowAction();return t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:d.a._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}});const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(p.a)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{dispatch:o,onHide:r,pinId:a}=this.props;o(t&&n&&i?Object(x.e)(a,e,this.generateUndoHideCallback(n,i),this.getUndoText(i)):Object(x.a)(a,e)),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?r():(this.setState({showSecondary:!0}),o(Object(x.d)(a)))}getThroughId(){const{recommendationReason:e}=this.props;return(null==e?void 0:e.reason_id)?e.reason_id:(null==e?void 0:e.board)?e.board.id:(null==e?void 0:e.pin)?e.pin.id:(null==e?void 0:e.interest)?e.interest.id:""}getThroughProperties(){var e;return null===(e=this.props.recommendationReason)||void 0===e?void 0:e.through_properties}getComponentType(){const{feedbackType:e}=this.props;switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}makeStrongText(e,t){return Object(i.jsx)("strong",{children:t},e)}handleClickLogging(e,t={}){const{viewParameter:n,viewType:i}=this.props;Object(m.b)(101,{...t,view:i,viewParameter:n,element:e,component:this.getComponentType()})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:o,viewParameter:r}=this.props,{pinFeedbackConfig:a}=this.state,{options:l}=a,h=[],b=l.length;for(let m=0;m<b;m+=1){const a=l[m],b=p.b.includes(a.action),g=a.callback?a.callback:()=>this.onPinHide(a.feedbackText,b,a.actionOptions,a.action);if("downloadPin"!==a.action)h.push(Object(i.jsx)(f.e,{children:a.link?Object(i.jsx)(O.a,{id:a.dataTestId||"",children:Object(i.jsx)(u.a,{external:!0,to:a.link,children:Object(i.jsx)(c.a,{compact:!0,text:a.text})})}):Object(i.jsx)(f.T,{fullWidth:!1,onTap:({event:e})=>this.onPinFeedbackActionButtonClick(e,a,g),children:Object(i.jsx)(c.a,{compact:!0,text:a.text})})},m));else if(!e&&"undefined"!=typeof window&&"windows"!==Object(j.b)(window)){const{bestPinImgSrc:e,pinTitle:a,pinDescription:l,pinCategory:u}=this.props;h.push(Object(i.jsx)(f.e,{children:Object(i.jsx)(s.a,{category:u,filename:a||l,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:r,viewType:o,children:e=>Object(i.jsx)(f.T,{fullWidth:!1,onTap:e,children:Object(i.jsx)(c.a,{compact:!0,text:d.a._("Download image","Button to download Pin image","Button to download Pin image")})})})},m))}}return h}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{feedbackData:n,feedbackType:o,pinId:r,onHide:a,recommendationReason:s,viewParameter:c,viewType:l}=this.props,{description:d}=e,u=this.getRecommendationDescriptionImage();return Object(i.jsx)(f.e,{overflow:"hidden",width:"100%",children:t?Object(i.jsx)(g,{feedbackData:n,feedbackType:o,pinId:r,onHide:a,recommendationReason:s,viewParameter:c,viewType:l}):Object(i.jsxs)(f.e,{children:[d&&Object(i.jsxs)(f.e,{children:[Object(i.jsxs)(f.e,{alignItems:"center",display:"flex",padding:4,children:[Object(i.jsx)(f.e,{maxHeight:56,overflow:"hidden",children:Object(i.jsx)(f.U,{color:"darkGray",overflow:"normal",size:"md",children:d})}),u]}),Object(i.jsx)(f.o,{})]}),Object(i.jsx)(f.e,{marginBottom:3,marginTop:2,children:this.renderButtons()})]})})}}t.a=Object(_.compose)(Object(r.connect)(),w.k)(T)},"63p3":function(e,t,n){function i(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}n.d(t,"a",(function(){return i}))},"7wXf":function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("nKUr"),o=n("ynlw"),r=n("rsy7"),a=n("Ye/N"),s=n("EDqd"),c=n("US8k"),l=n("n6mq");const d={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function u({backgroundColor:e,color:t,identifier:n}){const o="pine"===e?"#0FA573":"#fff";return Object(i.jsx)(l.e,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...d,backgroundColor:e?o:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:n})}function p({pin:e,allowProductCarousel:t,allowShoppingPriceIndicator:n,shoppingLabelColor:d}){const p=Object(o.a)(e);if(p.isGif)return u({identifier:"GIF"});if(p.isStoryPin){const{page_count:t=0}=e.story_pin_data||{};return u({identifier:Object(i.jsxs)(l.e,{display:"flex",alignItems:"center",justifyContent:"between",children:[Object(i.jsx)(l.e,{marginEnd:1,display:"flex",alignItems:"center",children:Object(i.jsx)(l.u,{accessibilityLabel:a.a._("Story Pin","pin.pinTypeIdentifier.iconAccessibilityLabel","identifier that shows the pin type"),inline:!0,icon:"story-pin",color:"darkGray",size:12})}),Object(i.jsx)(l.U,{inline:!0,size:"sm",weight:"bold",children:t.toString()})]})})}if(p.isVideo){const t=e.videos,{duration:n=0}=t&&t.video_list&&t.video_list[Object.keys(t.video_list)[0]]||{};return u({identifier:Object(c.a)(n)})}if(p.isProduct){if(n){const t=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary,n=t&&(t.price||t.max_price);return n?u({identifier:n}):null}if(d){const t=Object(r.a)(e)[0];return t?u({identifier:t,backgroundColor:d}):null}return null}if(t){const t=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],n=t&&Object(s.a)(e.images,t,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:i=[],index:o=0}=n;return u({identifier:`${o+1}/${i.length}`})}if(p.isCarousel){const t=e.carousel_data||{},{carousel_slots:n=[],index:i=0}=t;return u({identifier:`${i+1}/${n.length}`})}return null}},"8A+h":function(e,t,n){function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,"a",(function(){return i}))},"8vQR":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("nKUr"),o=n("Ye/N"),r=n("7w6Q"),a=n("eOdZ"),s=n("n6mq"),c=n("U4JR");function l(e){const{identifier:t,onHide:n}=e,l=()=>{a.a.create("ShareSuggestionsHideResource",{user_identifier:t}).callCreate().then(()=>{n(),(()=>{const{component:t,element:n}=e;Object(c.b)(101,{component:t,element:n}),r.a.increment("web_contacts.suggestions.hide",1,{surface:t})})()})};return Object(i.jsx)(s.v,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),l()},accessibilityLabel:o.a._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},"9Hsp":function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));const i=/[\- _,.<>:;+=*&@~\/\|!]*$/,o=(e,t=80,n="…")=>{let o;if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])o=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return o=o.replace(i,""),o+n},r=/\s\s+/g,a=e=>e.replace(r," ")},"9WJf":function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("8A+h"),o=n("E58E"),r=n("zpPL");function a({action:e,board:t}){var n;const a=r.a.instance&&r.a.instance.getState()||{viewer:{}},{viewer:s}=a;return Object(i.a)(s,t)||Object(o.a)({board:t,viewer:s})&&!!(null===(n=t.collaborator_permissions)||void 0===n?void 0:n.includes(e))}},AHhP:function(e,t){const n={},i=function(e,t){let n=!1;return function(...i){n||(n=!0,e.apply(this,i),t&&t())}},o=function(e,t){e.__listeners=t},r=function(e,t){return!e.__listeners&&t&&o(e,[]),e.__listeners},a=function(e,t){return!e.__handlers&&t&&(e.__handlers={}),e.__handlers},s=function e(t,n,i){let o,r,a=[];if("string"==typeof t)for(o=t.split(" "),r=0;r<o.length;r+=1)a.push({name:o[r],callback:n,originalCallback:n,context:i});else"object"==typeof t&&t&&Object.keys(t).forEach(o=>{a=a.concat(e(o,t[o],i||n))});return a},c=function(e,t,n,i){const o=s(e,t,n);for(let r=0;r<o.length;r+=1)i(o[r])},l=function(e,t){const n=a(e,!0);void 0===n[t.name]?n[t.name]=[t]:n[t.name].push(t)},d=function(e,t,n){const i=r(e,!0);for(let o=0;o<n.length;o+=1){const e=n[o];if(!e.callback)return;l(t,e),i.push({obj:t,event:e,originalCallback:e.originalCallback})}};n.on=function(e,t,n){return c(e,t,n,e=>{e.callback&&l(this,e)}),this},n.off=function(e,t,n){const i=a(this,!1);if(void 0===i)return this;const o=Object.keys(i);let r=s(e,t,n);0===r.length&&(r=[{name:null,callback:t,context:n}]);for(let a=0;a<r.length;a+=1){const e=r[a];let t;t=e.name?[e.name]:o;for(let n=0;n<t.length;n+=1){const o=t[n],r=i[o];if(void 0!==r){const t=[];for(let n=0;n<r.length;n+=1){const i=r[n];(e.callback&&i.originalCallback!==e.callback&&i.callback!==e.callback||e.context&&i.context!==e.context)&&t.push(i)}i[o]=t}}}return this},n.trigger=function(e,...t){const n=a(this,!1);if(void 0===n)return this;let i,o,r;const s=e.split(" ");for(i=0;i<s.length;i+=1){let e=[];const a=n.all,c=s[i],l=n[c];if(void 0!==l)for(o=0;o<l.length;o+=1)if(r=l[o],"function"==typeof r.callback)e.push({fn:r.callback,context:r.context||this,args:t});else if(r.callback)throw new Error("Callbacks must be functions");if(void 0!==a)for(o=0;o<a.length;o+=1)if(r=a[o],"function"==typeof r.callback)e.push({fn:r.callback,context:r.context||this,args:[c].concat(t)});else if(r.callback)throw new Error("Callbacks must be functions");for(o=0;o<e.length;o+=1)r=e[o],r.fn.apply(r.context,r.args);e=[]}return this},n.once=function(e,t,n){return c(e,t,n,e=>{"function"==typeof e.originalCallback&&(e.callback=i(e.originalCallback,()=>{this.off(e.name,e.callback,e.context)}),l(this,e))}),this},n.listenTo=function(e,t,n){return d(this,e,s(t,n,this)),this},n.listenToOnce=function(e,t,n){const o=s(t,n,this).map(t=>(t.originalCallback&&(t.callback=i(t.originalCallback,()=>{this.stopListening(e,t.name,t.originalCallback,t.context)})),t));return d(this,e,o),this},n.stopListening=function(e,t,n){const i=r(this,!1);let a,c,l;if(!i)return this;const d=[],u=void 0===t?void 0:s(t,n,this);for(c=0;c<i.length;c+=1)if(a=i[c],a.obj!==e&&e)d.push(a);else if(t){let e=!1;for(l=0;l<u.length&&!1===e;l+=1){const t=u[l];a.event.name===t.name&&a.originalCallback===t.callback&&(e=!0)}e?a.obj.off(a.event.name,a.event.callback,a.event.context):d.push(a)}else a.obj.off(a.event.name,a.event.callback,a.event.context);return o(this,d),this},e.exports=n},"CgR/":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("nKUr"),o=n("q1tI"),r=n("geGc"),a=n("Sp3T"),s=n("TqAR"),c=n("TgLd"),l=n("oVol"),d=n("U4JR"),u=n("n6mq");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=({children:e})=>e(Object(a.a)());class b extends o.Component{constructor(...e){super(...e),p(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),p(this,"onHide",()=>{this.props.onClick(),this.handleDismiss()}),p(this,"flyoutProps",()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:o,userId:a,board:c,sendType:d,fullName:u,profileUrl:p,viewParameter:h,viewType:b,onExternalSend:m,showCaret:f,todayArticle:g}=this.props;let j={description:e,id:o,imageUrl:n,name:"",type:l.a.PIN,url:`/pin/${o}/`},O=l.a.PIN;switch(d){case"user":j={description:e,id:a,imageUrl:n,name:u,type:l.a.PINNER,url:p},O=l.a.USER;break;case"board":j=c&&{description:c.description,id:c.id,imageUrl:c.imageUrl,name:c.name,type:l.a.BOARD,url:c.url},O=l.a.BOARD;break;case"today_article":j=g&&{description:g.subtitle||"",id:g.id,imageUrl:n,name:g.title,type:l.a.TODAY_ARTICLE,url:Object(s.i)(g)},O=l.a.TODAY_ARTICLE}const _={isFlyout:!0,onHide:this.onHide,onExternalSend:m,sendType:O,sharedObject:j,viewParameter:h,viewType:b};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:f,children:Object(i.jsx)(r.default,{..._})}})}static makeSendShareButton(e){return t=>Object(i.jsx)(this,{ref:t.shareButtonRef,Subject:e,...t})}toggle(){const{onToggleFlyout:e,sendType:t,userId:n}=this.props;"user"===t&&Object(d.b)(101,{component:13675,element:1079,objectId:n,view:4,viewParameter:3107}),e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:o}=this.props,{anchor:r,idealDirection:a,onDismiss:s,showCaret:l,children:d}=this.flyoutProps();return Object(i.jsxs)("div",{children:[Object(i.jsx)(u.e,{ref:e=>{e&&(this.flyoutAnchor=e)},children:Object(i.jsx)(h,{children:t=>Object(i.jsx)(e,{handleSendShareFlyoutButtonClick:e=>t(()=>{(null==e?void 0:e.stopPropagation)&&e.stopPropagation(),this.toggle()}),...this.props})})}),n&&(o?Object(i.jsx)(u.y,{children:Object(i.jsx)(u.e,{zIndex:t?c.a:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:Object(i.jsx)(u.r,{anchor:r,idealDirection:a,onDismiss:s,showCaret:l,size:"xl",positionRelativeToAnchor:!1,children:d})})}):Object(i.jsx)(u.r,{anchor:r,idealDirection:a,onDismiss:s,showCaret:l,size:"xl",children:d}))]})}}p(b,"defaultProps",{idealDirection:"down",onClick:()=>{}})},DJoW:function(e,t,n){function i(e,t,n,i){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:i}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function r(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s}))},"E/VT":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("nKUr"),o=n("q1tI"),r=n("28DW"),a=n("n6mq"),s=n("U4JR");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends o.Component{constructor(...e){super(...e),c(this,"state",{href:void 0}),c(this,"onEvent",()=>{if("undefined"==typeof window)return;const{category:e,imageDownloadSuccessCallback:t,imgSrc:n,isUnauth:i,pinId:o,viewParameter:a,viewType:c}=this.props,{href:l}=this.state;null==l&&n&&fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{this.setState({href:window.URL.createObjectURL(e)},()=>{this.imageDownload&&this.imageDownload.click()})}).then(()=>t&&t()).catch(()=>this.setState({href:this.DOWNLOAD_ERROR})),Object(r.a)(`web.${i?"unauth":"auth"}.download.click.${e||"no_category"}`),Object(s.b)(82,{objectId:o,view:c||3,viewParameter:a||139})}),c(this,"DOWNLOAD_ERROR","error")}render(){const{children:e}=this.props,{filename:t}=this.props,{href:n}=this.state,r=null!=n&&n!==this.DOWNLOAD_ERROR;return Object(i.jsxs)(o.Fragment,{children:[e(this.onEvent),r&&Object(i.jsx)(a.e,{display:"none",children:Object(i.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:t&&t.replace(".","_"),href:n})})]})}}},E58E:function(e,t,n){function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return t.isAuth&&n}n.d(t,"a",(function(){return i}))},ENhS:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a}=Object(i.c)("SurfaceContext",{surface:"Unknown"})},ENn1:function(e,t,n){var i=n("zpPL"),o=n("xjqW"),r=n("Y8Sn");t.a=({pin:e,viewParameter:t,viewType:n})=>{const{id:a,videos:s}=e,c=Object(r.f)(e),l=Object(r.g)(e);let d;if(Object(r.j)(s)&&s){const{video_list:e}=s,t=e[Object.keys(e)[0]];d=t&&t.duration}return()=>{i.a.instance.dispatch(Object(o.b)({id:a,isProduct:c,isPromoted:l,videoDuration:d,viewParameter:t,viewType:n,type:"pin"}))}}},EPem:function(e,t,n){n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return b}));var i=n("nKUr"),o=n("JW66"),r=n("BcL7"),a=n("pWkb"),s=n("ynlw"),c=n("Ye/N"),l=n("vvax"),d=n("VpfY"),u=n("n6mq");function p(e,t){var n,i;if(!t.isAuth)return!1;const a=Object(d.b)(e)||Object(d.c)(e),c=(null===(n=e.board)||void 0===n?void 0:n.privacy)===o.a.BoardPrivacy.PUBLIC&&!e.is_repin&&(null===(i=e.pinner)||void 0===i?void 0:i.id)===t.id,{isStoryPin:l}=Object(s.a)(e);return a||t.isPartner&&c||["employees","enabled"].includes(r.a.getInstance().v2ActivateExperiment("web_ps4p"))&&l&&c}function h(e,t){return e?[{align:"start",displayText:c.a._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:c.a._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:c.a._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?[{align:"start",displayText:c.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:c.a._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:c.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:c.a._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:c.a._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:c.a._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function b(e,t){const{isStoryPin:n,isVideo:o}=Object(s.a)(e),r=Object(d.b)(e),p=Object(d.c)(e)&&(n||!r)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,h=new Date(e.created_at),b=(new Date).getTime()-h.getTime(),m=Math.floor(b/36e5),f=p?p["24h_realtime"].is_realtime:null,g=p?p["24h_realtime"].timestamp:null;let j=null;p&&(j=n||o?p.all_time_realtime.timestamp:p["30d_realtime"].timestamp);const O=j!==g,_=e=>Object(l.b)(c.a._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),y={timeframe:"",lastUpdated:""};if(p)if(f){const e=p["24h_realtime"].impression>=(n||o?p.all_time_realtime.impression:p["30d_realtime"].impression);y.timeframe=e?c.a._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):n||o?c.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):c.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),y.lastUpdated=c.a._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(O||m>48)if(n||o){const e=Object(a.a)(p.all_time_realtime.timestamp);y.timeframe=c.a._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),y.lastUpdated=_(e)}else{const e=Object(a.a)(p["30d_realtime"].timestamp);y.timeframe=c.a._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),y.lastUpdated=_(e)}else{const e=Object(a.a)(p["24h_realtime"].timestamp);y.timeframe=c.a._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),y.lastUpdated=_(e)}else y.lastUpdated=c.a._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return Object(i.jsxs)(u.e,{alignItems:n||"lg"!==t?"center":void 0,display:n||"lg"!==t?"flex":void 0,children:[Object(i.jsx)(u.U,{align:"right",color:"gray",size:"sm",children:y.lastUpdated}),(n||["md","sm"].includes(t))&&!!p&&Object(i.jsx)(u.U,{color:"gray",inline:!0,size:"sm",children:" ・"}),Object(i.jsx)(u.U,{align:"right",color:"gray",size:"sm",children:y.timeframe})]})}},Ep0g:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f}));const i={YES:1,NO:2,NOT_SURE:3},o=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],r=["US","GB","IE","NZ","AU","CA","FR","DE","AT","IT","ES","NL","BE","PT","CH","DK","SE","NO","FI"],a=["US","CA"],s=["AT","BE","CH","CZ","DE","DK","ES","FI","FR","GB","GR","HU","IE","IT","NL","NO","PL","PT","RO","SE","SK"],c=["US","CA"],l=e=>!!e&&a.includes(e.toUpperCase()),d=e=>!!e&&s.includes(e.toUpperCase()),u=e=>o.includes(e.toUpperCase()),p=e=>r.includes(e.toUpperCase()),h=e=>e.reduce((e,t)=>(e||0)+(t||0),0),b=(e,t,n)=>{const i={numDays:n};return t.forEach(t=>{if(e[t].length>=2*n){const o=h(e[t].slice(0,n)),r=h(e[t].slice(-n));i[t]={total:r,trend:o?(r-o)/o:0}}}),i},m=(e,t,n)=>{const i={numDays:n},o=e[n]||{},r=e[2*n]||{};return t.forEach(e=>{const t=o[e]||0,n=r[e]?r[e]-t:0;i[e]={total:t,trend:n?(t-n)/n:0}}),i},f=e=>!!e&&c.includes(e.toUpperCase())},F08S:function(e,t,n){t.a=(e,t)=>{const n=t.getUTCDate()-e,i=new Date(t);return i.setUTCDate(n),i}},FZoo:function(e,t,n){var i=n("MrPd"),o=n("4uTw"),r=n("wJg7"),a=n("GoyQ"),s=n("9Nap");e.exports=function(e,t,n,c){if(!a(e))return e;for(var l=-1,d=(t=o(t,e)).length,u=d-1,p=e;null!=p&&++l<d;){var h=s(t[l]),b=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(l!=u){var m=p[h];void 0===(b=c?c(m,h,p):void 0)&&(b=a(m)?m:r(t[l+1])?[]:{})}i(p,h,b),p=p[h]}return e}},FfPP:function(e,t,n){var i=n("idmN"),o=n("hgQt");e.exports=function(e,t){return i(e,t,(function(t,n){return o(e,n)}))}},FgHp:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("wvsB"),o=n("7w6Q"),r=n("jZDM");const a="video",s={},c=(e,t)=>{if(o.a.increment("web_prefetch.attempt",1),window.navigator&&window.navigator.connection){const e=window.navigator.connection;if(e.saveData)return void o.a.increment("web_prefetch.saveDataOn",1);if(/2g/.test(e.effectiveType))return void o.a.increment("web_prefetch.poorConnection",1)}if(!(()=>{const e=document.createElement("link");return!!e.relList&&!!e.relList.supports&&e.relList.supports("prefetch")})())return void o.a.increment("web_prefetch.prefetchNotSupported",1);const n=Object(r.a)(e),i=document.createElement("link");var a;(i.rel="prefetch",i.href=e,i.as=t,o.a.increment("web_prefetch.addedToDom",1,{hostname:n.hostname||"unknown"}),i.onload=()=>{s[e]&&(s[e].loaded=!0),o.a.increment("web_prefetch.load.success",1,{hostname:n.hostname||"unknown"})},i.onerror=()=>{o.a.increment("web_prefetch.load.error",1,{hostname:n.hostname||"unknown"})},s[e])||(null===(a=document.head)||void 0===a||a.appendChild(i),s[e]={added:!0})};function l(e){const{pages:t,pages_preview:n}=e,o=(n?n[0]:t[0]).blocks.find(e=>3===e.block_type);if(o&&o.video){const{hlsv3:e,mp4:t}=Object(i.c)(o.video,i.a)||{},n=e||t;n&&c(n.url,a)}}},"G35+":function(e,t,n){var i=n("AHhP"),o=n.n(i),r=n("1inl"),a=n("K316"),s=n("fZ0m"),c=n("YYM5"),l=n("Ye/N"),d=n("1Nkp"),u=n("dwea"),p=n("28DW");function h(){}let b;Object.assign(h.prototype,o.a),Object.assign(h.prototype,{connect(e,t){t=Object.assign({},{success(){},error(){},complete(){}},t),Object(p.a)(`auth_web.social_connect.${e}.${Object(c.a)()}`),t.rerequest_facebook_email?Promise.resolve().then(n.bind(null,"TvzZ")).then(({default:e})=>{e(e=>{e.login(e=>{const n=e.authResponse;let i,o;n&&(i=n.grantedScopes,i=i?i.split(","):[],o=n.userID);const r=i.find(e=>"email"===e),a={id:o};"connected"===e.status&&r?t.success(a):t.error(a),t.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},a.a)}):"gplus"===e||"google"===e?s.a.get(e=>{Object(d.a)().then(()=>{e.auth2.getAuthInstance().grantOfflineAccess().then(e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})}).catch(e=>{t.error(e)})})}):Promise.resolve().then(n.bind(null,"LqyK")).then(({default:n})=>{const i=t.windowOptions||n.getWindowOptions(),o=window.open("/connect/"+e+"/","",i);if(!o)return r.a.showError(l.a._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const a=u.a.setInterval(()=>{o.closed&&(clearInterval(a),this.handleComplete({network:e,error_message:"Window closed."}))},1e3);this.once("connect:"+e,e=>{clearInterval(a),e.error_message?t.error(e):t.success(e),t.complete()})})},complete(e){this.handleComplete(e)},handleComplete(e){const t="connect:"+e.network;if("facebook"===e.network){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}this.trigger(t,e)}}),Object.assign(h,{instance:()=>(b||(b=new h),b),FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy",DROPBOX:"dropbox"}),window.addEventListener("message",e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&h.instance().complete(e.data)}),t.a=h},HGDa:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c}));const i=1e3,o=60*i,r=60*o,a=24*r,s=30*a,c=365*a},HJ6M:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i=-1,o=6},"HOY+":function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("jmst"),s=n("BUdX"),c=n("Ye/N"),l=n("qhFy"),d=n("n6mq");const u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},p={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},h={overlay:{__style:{backgroundColor:"#000"}}};function b({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:o,pinTitle:r,pin:a}){const{id:s}=a;return Object(i.jsxs)(d.w,{alt:r||c.a._("pin image","image of a pin","image of a pin"),naturalHeight:t,naturalWidth:n,src:e,children:[Object(i.jsx)(d.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:h.overlay}),Object(i.jsxs)(d.e,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-"+s,children:[Object(i.jsx)(d.T,{rounding:2,children:Object(i.jsxs)(d.e,{display:"flex",justifyContent:"center",padding:2,children:[Object(i.jsx)(d.u,{accessibilityLabel:c.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:p,size:25}),Object(i.jsx)(d.e,{margin:1}),Object(i.jsx)(d.U,{color:"white",truncate:!0,weight:"bold",children:c.a._("Visit site","Button when pressed goes to pin's website","Button when pressed goes to pin's website")})]})}),Object(i.jsx)(d.e,{margin:3}),Object(i.jsx)(d.T,{onTap:o,rounding:2,children:Object(i.jsxs)(d.e,{display:"flex",justifyContent:"center",padding:2,children:[Object(i.jsx)(d.u,{accessibilityLabel:c.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:25}),Object(i.jsx)(d.e,{margin:1}),Object(i.jsx)(d.U,{color:"white",truncate:!0,weight:"bold",children:c.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video")})]})})]})]})}var m=n("51gp"),f=n("Y8Sn");const g=new Map;let j=null;const O=e=>{e.forEach(e=>{const t=g.get(e.target);t&&t(e)})};function _({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:i}){const r=Object(o.useRef)(null);let a=!1;const s=()=>{var t;r.current instanceof HTMLElement&&(t=r.current,g.has(t))&&(a&&(e(!1),a=!1))},c=Object(o.useCallback)(i=>{r.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};j=j||new window.IntersectionObserver(O,i),g.set(e,n),j.observe(e)})(r.current,i,i=>{if(!g.has(r.current))return;const o=t?i.intersectionRatio>=.5:i.intersectionRatio>0||i.isIntersecting,c=n?i.intersectionRatio>=1:o,l=n?0===i.intersectionRatio:!c;!a&&c?(t=>{const n=t.intersectionRatio>0||t.isIntersecting;a=n,a&&e(!0)})(i):a&&l&&s()})},[r.current]);return Object(o.useEffect)(()=>(c(i),()=>{var e;r.current instanceof HTMLElement&&(s(),e=r.current,j.unobserve(e),g.delete(e))}),[c]),r}var y=n("vZlu");const x=new Set(["ConversationView","TodayTabFeed"]);var w=Object(r.connect)(void 0,e=>({setCurrentVideo:t=>e(Object(y.c)(t))}))((function({inAdsDesktopVideoExperiment:e,isAutoplay:t,cropHeight:n,currentTime:r,lowResOnly:a,highResOnly:s,onLoad:u,onError:p,saved:h,onTimeChange:g,isExperimentalPinRep:j,pin:O,surface:y,playing:w,rootMargin:v,setCurrentVideo:S,viewType:T,viewParameter:I,onVisibilityChanged:C,trackFullVisible:P,inVisibilityChangedHookExperiment:E}){const[k,R]=Object(o.useState)(0),[D,L]=Object(o.useState)(!1),[N,B]=Object(o.useState)(!0),A=Object(f.g)(O),U=A&&!O.is_eligible_for_web_closeup,M=j&&A&&O.is_eligible_for_web_closeup&&!x.has(y),F=U||!j||!A,H=_({onVisibilityChanged:C,inAdsDesktopVideoExperiment:e,trackFullVisible:P,rootMargin:v});let G=!w;e&&(G=N,t&&w&&N&&B(!1));const{url:V}=O.images["236x"]||{},{id:z,is_promoted:W}=O,q=Object(o.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),R(0),S({pinId:z,isPromoted:W,currentTime:0}),L(!1)},[W,z,S,k]),Y=Object(o.useCallback)(()=>{W&&L(M),R(e=>e+1)},[M,k]);if(!O.videos||!O.videos.video_list.V_HLSV4)return null;const{height:K,thumbnail:X,width:$,url:Z}=O.videos.video_list.V_HLSV4||{},J=O.videos.id,Q=[{type:"video/m3u8",src:Z}];return D&&A?Object(i.jsx)(d.e,{ref:E?H:null,children:Object(i.jsx)(b,{backgroundImage:V,naturalHeight:K,naturalWidth:$,pin:O,onRestartVideo:q})}):G?Object(i.jsx)(d.e,{ref:E?H:null,children:Object(i.jsx)(l.b,{lowResOnly:a,highResOnly:s,onLoad:u,onError:p,pin:O,saved:h})}):Object(i.jsx)(d.e,{ref:E?H:null,children:Object(i.jsx)(m.a,{cropHeight:n,rootMargin:v,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:I,component:0,objectId:O.id,video_id:J,view:T},accessibilityMaximizeLabel:c.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:c.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:c.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:c.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:c.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:c.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:$/K,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:r||-1},loop:F,onTimeChange:g,playing:w,poster:V||X,src:Q,videoStartTime:r,volume:0,onEnded:Y})})}));function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=Object(a.a)(w);class T extends o.Component{constructor(...e){super(...e),v(this,"calculateCurrentVideoTime",()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:n}=this.props,{id:i}=t,o=Object(f.b)(i,n);return this.currentVideoCurrentTime||o||e}),v(this,"handleVisibilityChanged",e=>{const{currentTimeFromPinRep:t,pin:n,setCurrentVideo:i,pauseAutoplay:o,videosAutoplaying:r}=this.props,{id:a,is_promoted:s}=n,c=Object(f.k)(a,r),l=Object(f.a)(a,r);e?(s||l)&&i({pinId:a,isPromoted:s,currentTime:this.calculateCurrentVideoTime()}):!e&&c&&o({pinId:a,isPromoted:s,currentTime:t||this.currentVideoCurrentTime})}),v(this,"handleVideoTimeChange",e=>{const{pin:t,onTimeChange:n,videosAutoplaying:i}=this.props,{id:o}=t;Object(f.k)(o,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:o,pin:r,setCurrentVideo:a,videosAutoplaying:s}=this.props,{id:c,is_promoted:l}=r,d=Object(f.k)(c,s);n!==t&&!n&&d?(this.pausedDueToBrowserOutOfFocus=!0,o({pinId:c,isPromoted:l,currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,a({pinId:c,isPromoted:l,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:n,videosAutoplaying:i}=this.props,{id:o,is_promoted:r}=n;Object(f.k)(o,i)&&t({pinId:o,isPromoted:r,currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:n,surface:o,videosAutoplaying:r,viewParameter:a,viewType:c,highResOnly:l,lowResOnly:d,onError:u,onLoad:p,saved:h,inAdsDesktopVideoExperiment:b,isExperimentalPinRep:m,rootMargin:g}=this.props,{id:j}=n,O=Object(f.b)(j,r),_=Object(f.k)(j,r)&&t,y=s.a.fromGlobalContext(),{anyEnabled:x}=y.experiments.getWithActivation("web_mqtt_finddomnode_deprecation");return x?Object(i.jsx)(w,{cropHeight:e,rootMargin:g,currentTime:O,inAdsDesktopVideoExperiment:b,isAutoplay:t,viewParameter:a,viewType:c,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:o,playing:_,trackFullVisible:!1,highResOnly:l,lowResOnly:d,onError:u,onLoad:p,saved:h,isExperimentalPinRep:m,inVisibilityChangedHookExperiment:x}):Object(i.jsx)(S,{cropHeight:e,rootMargin:g,currentTime:O,inAdsDesktopVideoExperiment:b,isAutoplay:t,viewParameter:a,viewType:c,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,surface:o,playing:_,trackFullVisible:!1,highResOnly:l,lowResOnly:d,onError:u,onLoad:p,saved:h,isExperimentalPinRep:m})}}t.a=Object(r.connect)((e,t)=>({appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}}),(e,t)=>({pauseAutoplay:t=>e(Object(y.a)(t)),setCurrentVideo:t=>e(Object(y.c)(t))}))(T)},I7CA:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("nKUr"),o=n("n6mq");function r({children:e,additionalStyles:t={}}){return Object(i.jsx)(o.e,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},children:e})}},JZM8:function(e,t,n){var i=n("FfPP"),o=n("xs/l")((function(e,t){return null==e?{}:i(e,t)}));e.exports=o},LqyK:function(e,t,n){n.r(t);var i=n("d7ng"),o=n("+NLT"),r=n("K316"),a=n("TvzZ"),s=n("Jr++"),c=n("JZM8"),l=n.n(c),d=n("eOdZ"),u=n("zwad");const p={open(e){const t=l()(e,p._validParams),n=p._getDialogType(e),o=p.generateFbRef(),c=e.object_type&&e.object_id&&"feed"===n;let h=Object(i.a)(e.path);const b=Object(s.a)();if(b.ptrf&&(h=u.a.appendQueryString(h,{ptrf:b.ptrf})),c&&(h=u.a.appendQueryString(h,{fb_ref:o})),t.method=n,"feed"===t.method){const n=p.getWindowOptions(e.width||580,e.height||400);let i="http://www.facebook.com/sharer/sharer.php?u="+h;t.picture&&(i+="&picture="+t.picture),t.name&&(i+="&title="+t.name),t.description&&(i+="&description="+t.description),t.caption&&(i+="&caption="+t.caption),window.open(encodeURI(i),"sharer",n)}else"send"===t.method?t.link=h:"share"===t.method&&(t.href=h),Object(a.default)(n=>{n.getLoginStatus(()=>{if("send"===t.method){n.ui(t);let i,o=10;const r=setInterval(()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!i&&o||(clearInterval(r),i&&p.executeMessengerCallback(i,e.callback)),o-=1},1e3)}else"share"===t.method&&n.ui(t,t=>{c&&t&&!t.error_message&&d.a.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:o}).callCreate({showError:!1}),e.callback&&e.callback(t)})})},r.a)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval(()=>{"0px"!==e.style.width&&n||(clearInterval(i),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return o.a.instance.unauth_id+":"+e},_getDialogType:e=>p._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,i=t||400,o=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+i+",left="+Math.round((o-n)/2)+",top="+(r>i?Math.round((r-i)/2):0)}};t.default=p},N89m:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("ynlw"),o=n("0nTG");function r(e){const{isProduct:t}=Object(i.a)(e);return t&&Object(o.c)(e)||""}},RHD0:function(e,t,n){n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));n("UA0U");var i=n("RNo4"),o=n("Ep0g"),r=(n("HGDa"),n("0S8y"));const a=(e,t)=>Object.keys(t).filter(n=>{const i=t[String(n)];return(i.pinner||{}).id===e.id&&!i.is_repin}).map(e=>t[e]),s=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),c=(e,t)=>!(!e||!e.isAuth)&&Object(o.f)(e.country),l=e=>e.isAuth&&!e.isPartner&&!Object(r.e)({user:e})&&!Object(r.c)({user:e}),d=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=Object(i.b)("/business/convert",{next:t});e.push(n)})(t,(e=>e?"/business/ad_create?pinId="+e:"/business/ad_create")(n))},u=e=>{const t=e.trim().split(" ").filter(e=>!!e);return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}}},RwJG:function(e,t,n){t.a={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},SNfw:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("nKUr");function o({size:e,iconColor:t,backgroundColor:n,grayscale:o=!1}){const r=t||(o?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return Object(i.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(i.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{id:"Oval",fill:a,cx:"18",cy:"18",r:"18"}),Object(i.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:r,fillRule:"nonzero",children:Object(i.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},Sp3T:function(e,t,n){var i=n("aOj9");t.a=()=>{const{loginForMore:e,viewer:t}=Object(i.d)();return n=>{"AUTH"===t.type?n():e&&e.setVisible(!0)}}},T5j3:function(e,t,n){function i(e){const t=Object.keys(e);if(t.length>0){return t.sort((t,n)=>e[n]-e[t]).slice(0,3)}return null}function o(e){const t=Object.values(e);if(t.length>0){return t.reduce((e,t)=>e+t,0)}return 0}function r(e){const{videos:t,is_downstream_promotion:n,is_promoted:i,story_pin_data_id:o,board:r}=e;return!(i||n||(!t||!t.id)&&!o||(null==r?void 0:r.is_collaborative)&&r.collaborated_by_me)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}))},Te6n:function(e,t,n){n.r(t),n.d(t,"OverflowMenu",(function(){return g}));var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("ENn1"),s=n("jCsw"),c=n("Ye/N"),l=n("5871"),d=n("Zxas"),u=n("kVqD"),p=n("YxyV"),h=n("DJoW"),b=n("Y8Sn"),m=n("gD/Z"),f=n("n6mq");function g({feedbackData:e,feedbackType:t,hidePinFeedbackOverlay:n,isHomefeedContextualMenuTooltipExperience:r,pin:h,pinTitle:g,setForcePrimary:j,transparentBackground:O}){const{viewParameter:_,viewType:y}=Object(m.b)(),[x,w]=Object(o.useState)(!1),[v,S]=Object(o.useState)(),{ad_match_reason:T,board:I,category:C,description:P,id:E="",images:k,is_promoted:R,pinner:D,promoter:L,recommendation_reason:N,source_interest:B,videos:A}=h;var U;const M=(U=R?60:50,function(e){return Object(d.a)((e||"").trim(),U)})(P),F=Object(s.a)(k,"236x"),H=Object(b.j)(A),G=Object(u.a)(101,{component:0,element:981,feedback_type:t,objectId:E}),V=()=>{j(!1),n(),w(!1)};return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(f.e,{"data-test-id":"feedback-button",ref:S,children:Object(i.jsx)(f.v,{accessibilityLabel:c.a._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:O?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:({event:e})=>{x?V():(j(!0),w(!0)),G()},size:"sm"})}),x&&Object(i.jsx)(f.y,{children:Object(i.jsx)(f.r,{anchor:v,idealDirection:"right",onDismiss:V,positionRelativeToAnchor:!1,size:"md",children:Object(i.jsx)(l.a,{ad_match_reason:T,bestPinImgSrc:Object(p.d)(h),board:I,feedbackData:e,feedbackType:t,hideDownload:H,onLinkClick:()=>{x&&V()},onHide:V,onDownloadHideFlyout:()=>{j(!1),w(!1)},pinCategory:C,pinDescription:M,pinId:E,pinImgSrc:F,pinner:D,pinTitle:g,promoter:L,recommendationReason:N,reportPin:Object(a.a)({pin:h,viewParameter:_,viewType:y}),sourceInterest:B,viewParameter:_,viewType:y})})})]})}t.default=Object(r.connect)((function({experiences:e}){return{isHomefeedContextualMenuTooltipExperience:e&&e.eligibleExperiences&&e.eligibleExperiences[1000116]&&501093===e.eligibleExperiences[1000116].experience_id}}),(function(e,{pin:t}){return{hidePinFeedbackOverlay:()=>{e(Object(h.c)(t.id))}}}))(g)},TvzZ:function(e,t,n){n.r(t);var i=n("0K1N"),o=n("eOdZ"),r=n("kmwA"),a=n("37no");let s=!1;const c=(e,t,n="en-US")=>{Object(a.c)(Object(i.a)(n),a.a.FACEBOOK).then(()=>{const n=window.FB;n&&(s||(n.init({appId:r.a.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",()=>{t()&&c(e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){o.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}},t)}),s=!0,window.fb_init=2),e(n))}),window.fb_init=1};t.default=c},U5D8:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/wow-3cb697ef.svg"},UA0U:function(e,t,n){var i=n("HGDa");t.a=e=>{const t=new Date(e)-new Date,n=Math.abs(t);return{year:Math.floor(n/i.f),month:Math.floor(n%i.f/i.d),day:Math.floor(n%i.d/i.a),hour:Math.floor(n%i.a/i.b),minute:Math.floor(n%i.b/i.c),milli:t,ms:n}}},UAdG:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("Ye/N"),s=n("n6mq");const c={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},l={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function d({isDisabled:e,isFavorited:t,onTap:n}){return Object(i.jsx)(s.T,{disabled:e,onTap:n,children:Object(i.jsx)(s.u,{accessibilityLabel:a.a._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:t?l:c,size:20})})}var u=n("eOdZ");function p({favorited:e,onFavorite:t,onUnfavorite:n,pinId:a}){const s=Object(r.useDispatch)(),[c,l]=Object(o.useState)(!1),[p,h]=Object(o.useState)(e),b=async()=>{var e;h(!p),l(!0),p?(await s((e=a,async t=>{await u.a.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,value:!1}}}(e))})),n&&n(),l(!1)):(await s(function(e){return async t=>{await u.a.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,value:!0}}}(e))}}(a)),t(),l(!1))};return Object(i.jsx)(d,{isDisabled:c,isFavorited:p,onTap:()=>{b()}})}},US8k:function(e,t,n){function i(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,"a",(function(){return i}))},VBRM:function(e,t,n){t.a=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()+t),n}},VJm5:function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("T+9/"),s=n("ZbwW"),c=n("Ye/N"),l=n("qhFy"),d=n("n6mq"),u=n("yjg8");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.Component{constructor(...e){super(...e),p(this,"state",{showBadge:!0}),p(this,"renderBadge",()=>{const{carouselData:e,isCloseup:t,showCarouselBadge:n}=this.props;if(!e)return null;const{showBadge:o}=this.state,{carousel_slots:r,index:a}=e,s=o?.8:0;return!t&&n?Object(i.jsx)(d.e,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginEnd:5,marginTop:5,rounding:2,dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:s,transition:"opacity .3s"}},children:Object(i.jsx)(d.U,{color:"white",children:`${a+1}/${r.length}`})}):null})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){const{showBadge:t}=this.state,{carouselData:n}=e,{carouselData:i}=this.props;if(!n||!i)return;const{index:o}=n,{index:r}=i;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),o!==r&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:t,closeupHeight:n,closeupWidth:o=0,cropHeight:r,cropWidth:s,carouselData:p,highResOnly:h,lowResOnly:b,onError:m,onLoad:f,pinId:g,isEditMode:j,isDenseView:O}=this.props;if(!p)return null;const{carousel_slots:_=[],index:y}=p,x=void 0!==t?t:y,w=!e&&s,{images:v}=_[x];let S;S=e?o:w||(h?474:O?u.f:u.e);const T=v["236x"]||{},I=T.height||0,C=T.width||236,P=n||I/C*S;return Object(i.jsxs)(d.e,{height:P,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:l.a,children:[!j&&this.renderBadge(),Object(i.jsx)(a.a,{trackCarousel:!0,impressionType:"Pin",loggingId:g,slotIndex:y,viewParameter:72,viewType:1,children:Object(i.jsx)(d.e,{position:"absolute",height:P,width:S,overflow:"hidden"})},"carousel-impression-key-"+x),Object(i.jsx)(d.e,{width:S*_.length,dangerouslySetInlineStyle:{__style:{left:x*S*-1+"px",transition:"left .3s"}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:_.map((t,a)=>((e,t,n,o,r,a,s,l,u,p,h,b,m,f)=>{const{images:g,details:j=""}=e;let O,_=236,y=236,x="";l?(_=u||0,y=p||0,x=g&&(g["564x"]&&g["564x"].url||g["736x"]&&g["736x"].url||g["236x"]&&g["236x"].url)):o?(_=474,y=g&&Math.min(_/.8,_/(g["564x"].width/g["564x"].height)),x=g&&g["564x"].url):g&&g["736x"]?(y=g&&g["736x"]&&g["736x"].height,_=g&&g["736x"]&&g["736x"].width,x=g&&g["736x"]&&g["736x"].url):g&&g["236x"]&&(y=g&&g["236x"]&&g["236x"].height,_=g&&g["236x"]&&g["236x"].width,x=g&&g["236x"]&&g["236x"].url),m&&f&&(y=Math.min(m*f,y)),O=r?g["236x"].url+" 1x":o?g["564x"].url+" 1x":[g["474x"]&&g["474x"].url+" 2x",g["736x"]&&g["736x"].url+" 3x",g.orig&&g.orig.url+" 4x"].filter(Boolean).join(", ");const w=j||`${c.a._("carousel image","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed","Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed")} ${n}`;return Object(i.jsx)(d.e,{height:b?void 0:y,width:b?void 0:_,children:Object(i.jsx)(d.e,{height:b?h:void 0,width:b||void 0,children:Object(i.jsx)(d.w,{alt:w,fit:b?"cover":"none",naturalHeight:y,naturalWidth:_,onError:a,onLoad:s,src:x,srcSet:O})})},`carousel-slot-${t}-${n}`)})(t,g,a,h,b,m,f,e,o,n,r,s,P,S))})]})}}p(h,"defaultProps",{showCarouselBadge:!0});t.a=Object(r.connect)(({pins:e},{pinId:t,pin:n})=>{const i=e[t]||n;return{carouselData:Object(s.a)(i)}},()=>({}))(h)},VpfY:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return p}));var i=n("RHD0"),o=(n("7jH2"),n("Y8Sn"));function r(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function a(e){var t,n;return!Object(o.j)(e.videos)&&!Object(o.i)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function s(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function c(e){var t,n;return!!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n?void 0:n.is_realtime)}function l(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function d(e){const{native_creator:t,pinner:n,domain:i}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===i)&&!e.is_promoted||t}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const p=({viewer:e,pin:t})=>Object(i.b)(e)&&t.is_quick_promotable_by_pinner},Vt0H:function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("PioT"),s=n("Ye/N"),c=n("51gp"),l=n("XtwW"),d=n("9pre"),u=n("vZlu"),p=n("ptXI"),h=n("WnLB"),b=n("y2Ga"),m=n("pf20"),f=n("n6mq");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends o.Component{constructor(...e){super(...e),g(this,"state",{controls:!1,duration:0,fullscreen:!1,playing:!a.b.isSafari()&&!!this.props.autoplay,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted?0:1}),g(this,"setVideoPwtLoadingStop",(e=!1)=>{if(!l.a)return;const{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan("perceived_video_load",null,l.a.now()),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(h.e),i.addSubspan("perceived_video_load",null,l.a.now()),i.metricId.segment===h.d&&i.removeConstraint(h.c))}),g(this,"componentDidMount",()=>{const{customThumbnail:e,video:t}=this.props,n=t.mp4,i=t.hlsv3||t.hls||null,{thumbnail:o}=i||n||{},r=(a=e||o,document.querySelector(`video[poster="${a}"]`)||null);var a;4===(null==r?void 0:r.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))}),g(this,"componentDidUpdate",(e,t)=>{!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:!0}),e.isPlaying&&!1===this.props.isPlaying&&this.props.showControls&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1})}),g(this,"handleTouch",({event:e})=>{const{seeking:t}=this.state;t||this.setState(e=>({playing:!e.playing}))}),g(this,"handleShowControls",()=>this.setState({controls:!0})),g(this,"handleHideControls",()=>this.setState({controls:!1})),g(this,"handleReady",()=>{const{ready:e}=this.state,{autoplay:t}=this.props;t&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0})}),g(this,"handleEnded",({event:e})=>{const{customThumbnail:t,pinId:n,setCurrentVideo:i,loop:o,onEnded:r}=this.props;var a;e.stopPropagation(),o||(this.setState({playing:!1}),(a=t)&&a.endsWith(".gif")||(this.setState({showEndCard:!0}),i({pinId:n,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),r&&r()}),g(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),g(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),g(this,"handleDurationChange",({duration:e})=>{this.setState({duration:e})}),g(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),g(this,"handlePlayheadDown",({event:e})=>{this.setState({seeking:!0})}),g(this,"handlePlayheadUp",({event:e})=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),g(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),g(this,"handleVolumeChange",({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t})}),g(this,"exitFullscreen",()=>{const e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),g(this,"renderCloseupVideoEndCard",(e,t,n,o)=>{const r={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:a}=this.props,s={gridDescription:a?a.gridDescription:"",imageSrc:a?a.imageSrc:"",isFlyoutOpen:!!a&&a.isFlyoutOpen,onFlyoutDismiss:a?a.onFlyoutDismiss:()=>{},onToggleFlyout:a?a.onToggleFlyout:()=>{},pinId:a?a.pinId:""};return o?Object(i.jsx)(p.b,{...r}):Object(i.jsx)(p.a,{...s,...r})})}render(){const{contextLogData:e={component:179,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:t,isPromoted:n,loop:o,onTimeChange:r,objectFit:l,preload:u,showControls:p,variant:h,video:b,videoStartTime:m}=this.props,{controls:g,fullscreen:j,playing:O,showEndCard:_,volume:y}=this.state,x=a.b.isSafari(),w=b.hlsv3||b.hls||null;if(!w&&!b.mp4)return null;const v=b.mp4,S=w?[{type:"video/m3u8",src:w.url}]:[{type:"video/mp4",src:(v||{}).url}],{height:T,thumbnail:I,width:C}=w||v||{},P=t||I;return Object(i.jsx)(f.B,{willChangeTransform:!(x&&j),rounding:"default"===h?0:2,wash:!0,children:_?this.renderCloseupVideoEndCard(P,T,C,n):Object(i.jsx)(f.T,{onMouseEnter:p?this.handleShowControls:void 0,onMouseLeave:p?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:Object(i.jsx)(c.a,{contextLogData:{...e,video_id:this.props.video.id},accessibilityMaximizeLabel:s.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:s.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:s.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:s.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:s.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:s.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:C/T,captions:"",controls:g,hlsConfig:{startLevel:d.a},objectFit:l,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:r,onVolumeChange:this.handleVolumeChange,playing:O,preload:u,poster:P,src:S,videoStartTime:m,volume:y,loop:o})})})}}g(j,"defaultProps",{loop:!1,showControls:!0});t.a=Object(r.connect)((e,t)=>{const{pinId:n,isPromoted:i}=t,o=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:r,promotedVideosAutoplaying:a}=o;let s=null;return s=i?a[n]:r[n],{videoStartTime:s?s.currentTime:null,isPlaying:!s||!s.paused}},(e,t)=>({setCurrentVideo:t=>e(Object(u.c)(t))}))((function(e){const t=Object(m.b)(),n=Object(b.c)();return Object(i.jsx)(j,{...e,pwtSurfaceContext:n,storyPinStepStopwatch:t})}))},W5T3:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var i=n("nKUr"),o=n("Jr++"),r=n("n6mq");const a={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==Object(o.a)().debug_impression_log;function c({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:Object(i.jsx)(r.e,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:Object(i.jsx)(r.U,{color:"white",children:Object(i.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}},WM6B:function(e,t,n){var i=n("nKUr"),o=n("q1tI");class r extends o.Component{constructor(e){var t,n,i;super(e),i={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.ref=Object(o.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const o=void 0===i.textContent?"innerText":"textContent",r=i[o];("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2?this.setState({manualTruncate:!0}):n.e("ShaveLibrary").then(n.bind(null,"eh6K")).then(({default:n})=>{n(i,e,t)})}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:o}=this.state,r={maxWidth:e,maxHeight:t},a=n?{display:"inline",...r}:{...r};return o?Object(i.jsx)("div",{ref:this.ref,style:{...a,overflow:"hidden"},children:this.props.children}):Object(i.jsx)("div",{ref:this.ref,style:a,children:this.props.children})}}t.a=r},WnLB:function(e,t,n){n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s}));const i="story_pin",o="closefakemodal",r="button",a="video",s="image"},"X/CP":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/haha-e2800d2d.svg"},"XLg/":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=120;function r(e,t,n){e.current&&clearTimeout(e.current),e.current=null,n&&(t?e.current=setTimeout(n,t):n())}function a(e,t=0,n=o){const a=Object(i.useRef)(),s=Object(i.useRef)(e),[c,l]=Object(i.useState)(e?"active":"inactive");return e!==s.current&&(e?"inactive"===c?(l("starting"),r(a,t,()=>{l("active")})):"ending"===c&&(l("active"),r(a)):"active"===c?(l("ending"),r(a,n,()=>{l("inactive")})):"starting"===c&&(l("inactive"),r(a))),Object(i.useEffect)(()=>()=>r(a),[]),s.current=e,c}},XPo3:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));const i=424,o=800,r=508,a=424,s=278,c=640,l=508,d=1016,u=508},XSD5:function(e,t,n){function i(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{pinId:e,index:t}}}n.d(t,"a",(function(){return i}))},YWqT:function(e,t,n){t.a=(e,t)=>e.getTime()>t.getTime()},YxyV:function(e,t,n){n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return g}));var i=n("2U5n"),o=n("yjg8"),r=n("9Hsp"),a=n("wzxk");const s=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},c=()=>({seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,productSiteTitle:15,productSiteTitleTopMargin:4,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:2,maxNumDescriptionLines:2}),l=e=>"ja"===e?23:19,d=(e,t)=>{if(e){const n=((e,t)=>{let n=0;if(e){let i=27;"ja"===t&&(i=14);const o=c().maxNumTitleLines;n=Math.floor(e.length/i)+1,n>o&&(n=o)}return n})(e,t);return l(t)*n}return 0},u=e=>Object(a.c)(e),p=(e,t=!1)=>e&&e.length>0&&!t,h=(e,t,n,i)=>{let o=0;const{description:a,vaseAnnotations:s}=u(e),l=c();if(((e,t,n,i,o=!0)=>{if(!n)return null;if(o)return!p(t)&&t&&t.length>0;return!1})(0,s,e)&&(o+=l.seeMoreButtonHeight,o+=l.seeMoreButtonBottomMargin),(e=>!!(e.rich_metadata&&e.rich_metadata.products&&Array.isArray(e.rich_metadata.products)&&e.rich_metadata.products.length&&e.rich_metadata.site_name))(e)&&(o+=l.productSiteTitle,o+=l.productSiteTitleTopMargin),p(s,i)&&(o+=l.vaseCarouselHeight),!i){const e=(e=>{let t=0;if(e){e=Object(r.a)(e);const n=35,i=c().maxNumDescriptionLines;t=Math.floor(e.length/n)+1,t>i&&(t=i)}return t})(a);o+=l.descriptionVerticalMargin+l.descriptionLineHeight*e}return e.pinner&&e.board&&(o+=28),o},b=(e,t,n,i=!1,o,r)=>{const s=(e=>{const{hasRichAttributionTitle:t,hasPlaceInfo:n}=(e=>{const t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}})(e);return!!(t||n||e.rich_metadata&&e.rich_metadata.title)})(e)?((e,t)=>{const n=Object(a.b)(e);return d(n,t)+10})(e,t):0,c=i?0:h(e,0,0,o);return s||c?c+s+10:0},m=(e,t="orig")=>Object(i.a)(e.images,t);function f(e){const t=!!e.carousel_data,n=t&&0===e.carousel_data.index;let i=e.images;if(t){const{carousel_slots:t,index:n=0}=e.carousel_data;i=t&&t[n]&&t[n].images||i}if(e.embed&&"gif"===e.embed.type&&(!t||n))return e.embed.src;if(!!i){const e=i,t=Object.keys(e).map(t=>{const n=t.split("x")[0];return Number.isNaN(Number(n))?t:(e[n]=e[t],n)});t.sort();const n=t.pop();return e[n].url}return e.image_large_url||""}const g=(e,t)=>{if(!e||!e.images||!e.images["236x"])return 0;const n=e.images["236x"].height;let i=n<t?n:t,r=600;n>600&&!e.fullImage&&(r=500);const a=m(e,"orig");if(a){const e=Math.floor(a.height*o.e/a.width);i=e>r?r:e}return i}},ZtJp:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("nKUr");function o({size:e,iconColor:t,backgroundColor:n,grayscale:o=!1}){const r=t||(o?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1",children:Object(i.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{fill:a,cx:"18",cy:"18",r:"18"}),Object(i.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:r,fillRule:"nonzero",children:Object(i.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}},Zxas:function(e,t,n){n.d(t,"a",(function(){return i}));function i(e,t=80,n="…",i=false){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)o=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+n}},b9Z9:function(e,t,n){n.d(t,"a",(function(){return A}));var i=n("nKUr"),o=n("q1tI"),r=n("n6mq");function a({isHorizontalDesign:e}){return e?Object(i.jsxs)(r.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(i.jsx)(r.e,{opacity:.5,color:"midnight",height:"100%",width:"100%",flex:"grow"}),Object(i.jsx)(r.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsx)(r.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(i.jsx)(r.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsx)(r.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]}):Object(i.jsxs)(r.e,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0,children:[Object(i.jsx)(r.e,{opacity:.5,color:"midnight",height:"100%",flex:"grow"}),Object(i.jsx)(r.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsxs)(r.e,{display:"flex",height:136,direction:"column",flex:"grow",children:[Object(i.jsx)(r.e,{opacity:.5,color:"olive",width:"100%",flex:"grow"}),Object(i.jsx)(r.e,{color:"white",height:"2px",flex:"none"}),Object(i.jsx)(r.e,{opacity:.5,color:"maroon",width:"100%",flex:"grow"})]})]})}var s=n("Ye/N");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}};class d extends o.PureComponent{constructor(...e){super(...e),c(this,"state",{isLoaded:[!1,!1,!1],isMounted:!1}),c(this,"getImageArray",()=>{const{userPins:e,showcase:t}=this.props;let n=[];return e&&0!==e.length?(t&&0!==t.length?t&&1===t.length?n=t.filter(e=>"board"===e.type)[0].images["550x"].map(e=>e.url):t&&(n=t.filter(e=>"board"===e.type).map(e=>e.image_cover_url)):n=e.map(e=>(e.images["136x136"]||e.images["236x"]||e.images["736x"]).url),n):n}),c(this,"getImage",(e,t)=>{const{isLoaded:n}=this.state,o={transition:"opacity 500ms",opacity:n[t]?1:0};return Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:o},color:"white",height:"100%",width:"100%",children:!!e&&Object(i.jsx)(r.w,{naturalHeight:1,src:e,fit:"cover",alt:s.a._("user's pin","image of one of a user's pins","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:()=>this.handleLoad(t)})})}),c(this,"handleLoad",e=>{const{isLoaded:t,isMounted:n}=this.state,i=[...t];i[e]=!0,n&&this.setState({isLoaded:i})})}componentDidMount(){this.setState({isMounted:!0}),this.getImageArray()}render(){const{isHorizontalDesign:e}=this.props,t=this.getImageArray();let n=null;return n=1===t.length?Object(i.jsx)(r.e,{height:"100%",display:"flex",direction:"row",children:this.getImage(t[0],0)}):2===t.length?Object(i.jsxs)(r.e,{height:"100%",display:"flex",direction:"row",children:[this.getImage(t[0],0),Object(i.jsx)(r.e,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)]}):e?Object(i.jsxs)(r.e,{height:"100%",width:"100%",display:"flex",direction:"row",children:[Object(i.jsx)(r.e,{height:"100%",width:"100%",children:this.getImage(t[0],0)}),Object(i.jsx)(r.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsx)(r.e,{height:"100%",width:"100%",children:this.getImage(t[1],1)}),Object(i.jsx)(r.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsx)(r.e,{height:"100%",width:"100%",children:this.getImage(t[2],2)})]}):Object(i.jsxs)(r.e,{height:"100%",width:"100%",display:"flex",direction:"row",children:[Object(i.jsx)(r.e,{height:"100%",flex:"grow",children:this.getImage(t[0],0)}),Object(i.jsx)(r.e,{color:"white",width:"2px",flex:"none"}),Object(i.jsxs)(r.e,{display:"flex",height:136,direction:"column",flex:"grow",children:[Object(i.jsx)(r.e,{width:"100%",flex:"grow",children:this.getImage(t[1],1)}),Object(i.jsx)(r.e,{color:"white",height:"2px",flex:"none"}),Object(i.jsx)(r.e,{width:"100%",flex:"grow",children:this.getImage(t[2],2)})]})]}),Object(i.jsx)(r.e,{height:136,display:"flex",direction:"column",children:Object(i.jsxs)(r.e,{width:"100%",position:"relative",flex:"grow",children:[Object(i.jsx)(a,{isHorizontalDesign:e}),n,Object(i.jsx)(r.e,{dangerouslySetInlineStyle:l,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})]})})}}var u=n("FDmi"),p=n("qD10"),h=n("U4JR");function b(e,t){Object(h.b)(101,{view:e,viewParameter:t,component:13406,element:11373})}var m=e=>{const{avatarUrl:t,isVerified:n,isHorizontalDesign:o,url:a,userFullName:s,viewParameter:c,viewType:l}=e,d=o?80:86;return Object(i.jsx)(r.e,{dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:o?-58:-64,marginLeft:o?-6:0,zIndex:1}},display:"flex",flex:"none",rounding:"circle",children:Object(i.jsx)(r.e,{flex:"none",height:d,width:d,children:Object(i.jsx)(p.a,{onClick:b(l,c),to:a,stopPropagation:!0,children:Object(i.jsx)(u.a,{name:s,src:t,verified:n})})})})},f=n("Zxas");function g({text:e,singleLineMaxCharacters:t,isBold:n,isHorizontalDesign:o,numLines:a}){const s=a*t,c=Object(f.a)(e,s);return n?Object(i.jsx)(r.U,{align:o?"left":"center",overflow:"normal",size:"md",weight:"bold",children:c}):Object(i.jsx)(r.U,{align:o?"left":"center",overflow:"normal",size:"md",weight:"normal",color:o?"darkGray":"gray",children:c})}function j({description:e,domainUrl:t,isHorizontalDesign:n,userFullName:o}){const a=e||t,s={placeholder:{__style:{transition:"opacity 200ms",opacity:a?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:a?1:0}}};return Object(i.jsxs)(r.e,{position:"relative",width:"100%",marginTop:n?4:3,marginBottom:3,alignItems:n?"start":"center",display:"flex",direction:"column",children:[Object(i.jsx)(r.e,{height:18,width:"100%",children:Object(i.jsx)(r.U,{align:n?"left":"center",truncate:!0,size:n?"lg":"md",weight:"bold",children:o})}),Object(i.jsxs)(r.e,{marginTop:2,overflow:"hidden",position:"relative",width:"100%",children:[Object(i.jsxs)(r.e,{alignItems:"center",dangerouslySetInlineStyle:s.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[Object(i.jsx)(r.e,{color:"lightGray",rounding:"pill",width:180,flex:"grow"}),Object(i.jsx)(r.e,{height:6,flex:"none"}),Object(i.jsx)(r.e,{color:"lightGray",rounding:"pill",width:140,flex:"grow"})]}),n&&!!t&&Object(i.jsx)(r.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:-1,children:Object(i.jsx)(g,{numLines:2,isBold:!0,isHorizontalDesign:n,singleLineMaxCharacters:36,text:t})}),n&&!!e&&Object(i.jsx)(r.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",marginTop:2,children:Object(i.jsx)(g,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:36,text:e})}),!n&&!!a&&Object(i.jsx)(r.e,{dangerouslySetInlineStyle:s.subtitle,width:"100%",height:"100%",children:Object(i.jsx)(g,{isHorizontalDesign:n,numLines:2,singleLineMaxCharacters:27,text:a})})]})]})}var O=n("/MKj"),_=n("oRao"),y=n("vvax");function x({followText:e,followerCount:t,isHorizontalDesign:n,showFollowers:o,userFollowed:a}){return o?Object(y.b)(s.a._("{{ followCount }} {{ followText }}"),{followCount:Object(i.jsx)(r.e,{"data-test-id":"followCount",display:"inlineBlock",marginEnd:1,opacity:a?void 0:.8,children:Object(i.jsx)(r.U,{color:a?"gray":"white",size:n?"sm":"md",align:"center",weight:"bold",children:Object(i.jsx)(_.a,{value:t||0,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:Object(i.jsx)(r.e,{"data-test-id":"followText",display:"inlineBlock",children:Object(i.jsx)(r.U,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}):Object(i.jsx)(r.e,{"data-test-id":"followText",children:Object(i.jsx)(r.U,{weight:"bold",color:a?"darkGray":"white",size:n?"sm":"md",overflow:"normal",align:"center",children:e})},"followText")}var w=n("M1Uz"),v=n("nGHF"),S=n("ZVOf");var T=Object(O.connect)((e,{id:t})=>{const n=(e.users||{})[t];return{userFollowed:!!n&&n.explicitly_followed_by_me}},e=>({follow:t=>e(Object(S.a)(t)),unfollow:t=>e(Object(S.b)(t))}))((function({followerCount:e,isHorizontalDesign:t,showFollowerCount:n,userFollowed:a,follow:c,id:l,viewParameter:d,viewType:u,fullName:p,imageUrl:b,profileUrl:m}){const{showOneToast:f}=Object(v.b)(),g=a?s.a._("Following","User follow button","User follow button"):s.a._("Follow","User follow button","User follow button"),j=e=>Object(h.b)(e,{view:u,viewParameter:d,component:13406,element:11372});return Object(i.jsx)(r.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:t?"-22px":0}},display:"flex",justifyContent:"center",position:"relative",children:Object(i.jsx)(r.T,{onTap:()=>{a?(Object(S.b)(l),j(46)):(c(l),j(45),f(({onHide:e})=>Object(i.jsx)(w.a,{onHide:e,text:Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(r.U,{children:s.a._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),Object(i.jsx)(r.U,{weight:"bold",children:p})]}),href:m,imageUrl:b})))},rounding:"pill",children:Object(i.jsx)(r.e,{alignItems:"center",color:a?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:t?5:6,paddingY:t?3:4,rounding:"pill",children:Object(i.jsx)(x,{followerCount:e,followText:g,isHorizontalDesign:t,showFollowers:n&&0!==e,userFollowed:a})})})})}));function I({avatarUrl:e,description:t,domainUrl:n,followerCount:o,id:a,isCreator:s,isHorizontalDesign:c,isVerified:l,userFullName:d,username:u,viewParameter:p,viewType:h}){const b=function(e){return"/"+e}(u);return Object(i.jsxs)(r.e,{alignItems:c?"start":"center",display:"flex",direction:"column",paddingX:c?5:6,paddingY:c?3:4,marginTop:2,width:"100%",children:[Object(i.jsx)(m,{avatarUrl:e,isHorizontalDesign:c,isVerified:l,url:b,userFullName:d,viewType:h,viewParameter:p}),c&&Object(i.jsxs)(r.e,{position:"relative",width:"100%",children:[Object(i.jsx)(r.e,{display:"flex",marginTop:-2,marginEnd:-2,position:"absolute",right:!0,top:!0,children:Object(i.jsx)(T,{fullName:d,followerCount:o,id:a,imageUrl:e,isHorizontalDesign:c,profileUrl:b,showFollowerCount:s})}),Object(i.jsx)(r.e,{width:"100%",display:"flex",left:!0,marginTop:1,children:Object(i.jsx)(j,{description:t,domainUrl:n,isHorizontalDesign:c,userFullName:d})})]}),!c&&Object(i.jsxs)(r.e,{width:"100%",children:[Object(i.jsx)(j,{userFullName:d,domainUrl:n,description:t,isHorizontalDesign:c}),Object(i.jsx)(r.e,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:Object(i.jsx)(T,{followerCount:o,fullName:d,id:a,imageUrl:e,isHorizontalDesign:c,profileUrl:b,showFollowerCount:s})})]})]})}var C=n("TgLd");const P=24;function E({anchor:e,children:t,isHorizontalDesign:n}){if(!e)return null;const o=n?320:236,{left:a,top:s,width:c,height:l}=e.getBoundingClientRect(),d=a+window.pageXOffset,u=s+window.pageYOffset,p=d+c+o+12>window.innerWidth,h={left:p?d:d+c,top:u+l/2},b={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:p?-12-o:12,top:-o/2-44},m={top:-12,left:-12,fill:"white"},f=p?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return Object(i.jsxs)(r.e,{position:"absolute",zIndex:C.a,dangerouslySetInlineStyle:{__style:h},children:[Object(i.jsx)(r.e,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:b},width:o,overflow:"hidden",children:t}),Object(i.jsx)(r.e,{position:"absolute",dangerouslySetInlineStyle:{__style:m},children:Object(i.jsx)("svg",{width:P,height:P,children:Object(i.jsx)("path",{d:f})})})]})}var k=n("eOdZ"),R=n("LT60"),D=n("v/Q4"),L=n("pLLR");function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class B extends o.PureComponent{constructor(e){super(e),N(this,"anchorRef",Object(o.createRef)()),N(this,"loadUser",()=>{const{username:e}=this.props,{isMounted:t}=this.state;e&&(k.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then(e=>{t&&this.setState({detailedUser:e.resource_response.data})}),k.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item",isPrefetch:!1}).callGet().then(e=>{t&&this.setState({userPins:e.resource_response.data})}),k.a.create("ShowcaseResource",{username:e,page_size:2,isPrefetch:!1}).callGet().then(e=>{t&&this.setState({showcase:e.resource_response.data})}),t&&this.setState({isLoaded:!0}))}),N(this,"handleScroll",()=>{clearTimeout(this.openTimeout),this.state.isMounted&&(this.setState({isVisible:!1}),this.forceUpdate())}),N(this,"timeoutDismiss",()=>{this.dismissTimeout=setTimeout(()=>{this.state.isMounted&&(this.setState({isVisible:!1}),clearTimeout(this.openTimeout))},150)}),N(this,"handleDisplayCard",()=>{const{isDarkPromoter:e,pinId:t,requestContext:n,viewParameter:i}=this.props,{currentPinId:o,isLoaded:r,isMounted:a}=this.state;clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),t&&o!==t&&this.forceUpdate(),t&&this.setState({currentPinId:t});const{group:s}=n.experiments.getWithActivation("web_avatar_hover_cards_v2");156!==i&&0!==i||e||!["enabled","enabled2_vertical","enabled2_horizontal"].includes(s)?a&&this.setState({isVisible:!1}):(r||this.loadUser(),this.openTimeout=setTimeout(()=>{a&&this.setState({isVisible:!0})},300))}),N(this,"handleHideCard",()=>{this.timeoutDismiss()}),this.state={currentPinId:e.pinId,detailedUser:null,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null}}componentDidMount(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}componentWillUnmount(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}static getDerivedStateFromProps(e,t){const{user:n}=e,{detailedUser:i}=t,o={user:{}};return n&&(o.user=n),i&&(o.user={...o.user,...i}),o}render(){const{avatarSize:e,children:t,requestContext:n,username:o,viewer:a,viewParameter:s,viewType:c}=this.props,{isVisible:l,showcase:u,user:p,userPins:h}=this.state,{about:b,domain_url:m,follower_count:f,full_name:g,id:j,image_medium_url:O,show_creator_profile:_,verified_identity:y}=p||{},x=a.isAuth&&a.id===j,w=!!y&&y.verified,{group:v}=n.experiments.getWithoutActivation("web_avatar_hover_cards_v2"),S="enabled2_horizontal"===v;return Object(i.jsxs)(r.e,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard,children:[Object(i.jsxs)(r.e,{marginStart:-2,marginEnd:-2,paddingX:2,position:"relative",children:[Object(i.jsx)(r.e,{height:e,left:!0,marginStart:2,position:"absolute",ref:this.anchorRef,top:!0,width:e}),t]}),!x&&!!p&&!!o&&l&&Object(i.jsx)(r.e,{children:Object(i.jsx)(R.a,{children:Object(i.jsx)(r.y,{children:Object(i.jsx)(E,{anchor:this.anchorRef.current,isHorizontalDesign:S,children:Object(i.jsx)(r.e,{color:"white",zIndex:C.a,onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%",children:Object(i.jsxs)(r.e,{width:"100%",children:[Object(i.jsx)(d,{isHorizontalDesign:S,userPins:h,showcase:u}),Object(i.jsx)(I,{avatarUrl:O,description:b,domainUrl:m,followerCount:f,id:j,isCreator:_,isHorizontalDesign:S,isVerified:w,userFullName:g,username:o,viewParameter:s,viewType:c})]})})})})})})]})}}function A(e){const t=Object(L.d)(),n=Object(D.a)();return Object(i.jsx)(B,{...e,requestContext:t,viewer:n})}},dKiF:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s}));const i=(e,t)=>e.length===t.length&&e.every((e,n)=>function(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(n=>e[n]===t[n])}return e===t}(e,t[n])),o=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),r=(e,t=o)=>n=>{const i=[];return function(...o){const r=this,a=i.find(e=>e.context===r&&t(e.args,o));if(a)return a.result;const s={context:r,args:o,result:n.apply(this,o)};return i.push(s),e&&i.length>e&&i.shift(),s.result}},a=r(1),s=r()},eqXv:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("eOdZ");const o=()=>{};const r={complaint:function(e,t){i.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},followBoard:function(e,t){i.a.create("BoardFollowResource",e).callCreate().then(()=>t())},followPinner:function(e,t){i.a.create("UserFollowResource",e).callCreate().then(()=>t())},followTopic:function(e,t){i.a.create("InterestFollowResource",e).callCreate().then(()=>t())},newsHubPinHide:function(e,t){i.a.create("NewsHubPinFeedbackResource",e).callUpdate().then(()=>t())},promotedComplaint:function(e,t){i.a.create("PinFeedbackResource",e).callUpdate().then(()=>t())},relatedPinHide:function(e,t){i.a.create("RelatedPinFeedbackResource",e).callUpdate().then(()=>t())},reportPin:function(e,t){t()},unfollowBoard:function(e,t){i.a.create("BoardFollowResource",e).callDelete().then(()=>t())},unfollowPinner:function(e,t){i.a.create("UserFollowResource",e).callDelete().then(()=>t())},unfollowTopic:function(e,t){i.a.create("InterestFollowResource",e).callDelete().then(()=>t())},unrelatedSearchPin:function(e,t){i.a.create("SearchPinFeedbackResource",e).callUpdate().then(()=>t())}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=o){const i=r[e];return i?i(t,n):n()}},exCO:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("nKUr"),o=n("gTC0");function r({accessibilityLabel:e,handleClick:t,icon:n,isSVG:r,iconOnly:a}){return Object(i.jsx)(o.a,{accessibilityLabel:e,onClick:t,icon:n,isSVG:r,iconOnly:a})}},fZ0m:function(e,t,n){const i={get(e){const t="gplus";n.e("ScriptCommon").then(n.bind(null,"6tKR")).then(({default:n})=>{n.load([],"https://apis.google.com/js/client:platform.js",t),n.ready(t,()=>{e(window.gapi)})})}};t.a=i},fZbY:function(e,t,n){const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.a=e=>i.test(e)},fc1g:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i=e=>({type:"MOST_RECENT_PIN",payload:{id:e}}),o=e=>({type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}})},fepT:function(e,t,n){n.r(t),n.d(t,"SendButton",(function(){return u}));var i=n("nKUr"),o=n("exCO"),r=n("7pfs"),a=n("n6mq");const s={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function c({accessibilityLabel:e,buttonColor:t,buttonText:n,handleClick:o,icon:c}){return Object(i.jsx)(r.a,{children:({active:r,focused:l,hovered:d,onBlur:u,onFocus:p,onMouseDown:h,onMouseEnter:b,onMouseLeave:m,onMouseUp:f})=>{let g={borderRadius:24};if(d){const e="red"===t?"rgb(216,0,33)":"rgb(226, 226, 226)";g={...g,backgroundColor:e}}if(r){const e="red"===t?"rgb(207,0,31)":"rgb(218, 218, 218)";g={...g,backgroundColor:e}}return l&&(g={...g,...s}),Object(i.jsx)("button",{"aria-label":e,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:u,onFocus:p,onMouseDown:h,onMouseEnter:b,onMouseLeave:m,onMouseUp:f,onClick:o,children:Object(i.jsx)(a.e,{color:t,rounding:2,dangerouslySetInlineStyle:{__style:g},children:Object(i.jsxs)(a.e,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===c&&Object(i.jsxs)(a.e,{children:[Object(i.jsx)(a.u,{accessibilityLabel:"",icon:"share",color:"darkGray",size:18}),Object(i.jsx)(a.e,{paddingX:3})]}),Object(i.jsx)(a.U,{align:"center",color:"red"===t?"white":"darkGray",weight:"bold",children:n})]})})})}})}var l=n("Ye/N"),d=n("CgR/");const u=({buttonType:e,handleSendShareFlyoutButtonClick:t,svgPath:n,isSVG:r,iconOnly:a})=>{const s="icon"===e,d=r&&n?n:"share",u={accessibilityLabel:l.a._("Send","Accessible label for button to send this pin","Accessible label for button to send this pin"),handleClick:t,icon:d};return s?Object(i.jsx)(o.a,{...u,isSVG:r,iconOnly:a}):Object(i.jsx)(c,{...u,buttonColor:"lightGray",buttonText:l.a._("Send","Text for button to send this pin","Text for button to send this pin")})};t.default=d.a.makeSendShareButton(u)},g5OB:function(e,t,n){n.d(t,"a",(function(){return jt}));var i=n("nKUr"),o=n("q1tI"),r=n("jkxn"),a=n("rYoy"),s=n("gD/Z"),c=n("sztL"),l=n("zwad");function d(e,t){const{carousel_data:n,domain:i}=e;let o=i||"";return n&&n.id&&(o=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],o=i[n]&&i[n].link||"";return o&&l.a.parse(o).hostname||""}(n,t)),o.replace("www.","")}var u=n("Ye/N"),p=n("qD10"),h=n("kVqD"),b=n("0nTG"),m=n("Y8Sn"),f=n("n6mq");const g={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function j({pin:e,sourceLinkStyle:t,surface:n,url:r}){const[a,l]=Object(o.useState)(!1),{id:j}=e,O=d(e),_=Object(b.f)(e)||{},{slotIndex:y}=Object(s.b)(),x=Object(h.a)(12,{grid_index:y,objectId:j,...Object(b.f)(e)||{}}),w=Object(h.a)(101,{element:162,objectId:j,...Object(b.f)(e)||{}}),v=Object(h.a)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:y,objectId:j,...Object(b.f)(e)||{}}),S=()=>{x(),w(),Object(m.e)()&&v()};return"icon-only"===t?Object(i.jsx)(p.a,{auxData:_,external:!0,onClick:S,pinId:j,surface:n,to:r,children:Object(i.jsx)(f.v,{accessibilityLabel:u.a._("link","Website url link","Website url link"),bgColor:"white",icon:"arrow-up-right",iconColor:"darkGray",size:"sm"})}):Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{...g.container,...a?g.containerHovered:{},..."truncated-text"===t?g.containerTruncated:{}}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),position:"relative",children:Object(i.jsx)(c.a,{hovered:a,pin:e,slotIndex:y,viewType:1,children:Object(i.jsx)(p.a,{className:"GestaltTouchableFocus",external:!0,onClick:S,pinId:j,surface:n,style:{borderRadius:18,display:"block"},to:r,children:Object(i.jsxs)(f.e,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:g.text},display:"flex",justifyContent:"between",children:[Object(i.jsx)(f.e,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:Object(i.jsx)(f.u,{accessibilityLabel:u.a._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),Object(i.jsx)(f.e,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:Object(i.jsx)(f.U,{color:"darkGray",size:"md",weight:"bold",truncate:!0,children:O})})]})})})})}const O=Object(o.lazy)(()=>Promise.all([n.e(97),n.e(110),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),_=Object(o.lazy)(()=>Promise.resolve().then(n.bind(null,"Te6n"))),y=Object(o.lazy)(()=>n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"GUPW")));var x=Object(o.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:o,onToggleFlyout:c,onToggleModal:l,pin:d,pinTitle:u,setForcePrimary:p,showEditButton:h,showOverflowMenu:b,showShareButton:m,sourceLinkStyle:g,surface:x}){var w;const{viewParameter:v,viewType:S}=Object(s.b)(),{carousel_data:T,id:I,tracked_link:C,link:P}=d,E=null!==(w=null!=C?C:P)&&void 0!==w?w:"",k=!!E&&Object(r.a)(Object(i.jsx)(j,{pin:d,sourceLinkStyle:g,surface:x,url:E})),R=m&&Object(i.jsx)(a.a,{children:Object(i.jsx)(f.e,{"data-test-id":"send-share-link",children:Object(r.a)(Object(i.jsx)(y,{pin:d,setForcePrimary:p}))})}),D=h&&Object(i.jsx)(a.a,{children:Object(i.jsx)(f.e,{"data-test-id":"edit-button",children:Object(r.a)(Object(i.jsx)(O,{carouselSlotCurrentIndex:T&&T.index,component:0,onToggleModal:c,pinId:I,style:{size:"sm"},view:S,viewParameter:v,useLegoStyles:!0}))})});return"equally-spaced"===o?Object(i.jsxs)(f.e,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[Object(i.jsx)("div",{style:{flexBasis:32},children:k}),e?D:R,e?R:D]}):Object(i.jsxs)(f.e,{alignItems:"center",display:"flex",padding:3,children:[Object(i.jsx)(f.e,{flex:"shrink",children:k}),Object(i.jsx)(f.e,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",children:Object(i.jsxs)(f.q,{alignItems:"center",gap:2,justifyContent:"end",children:[e?D:R,b&&Object(i.jsx)(a.a,{children:Object(i.jsx)(f.e,{"data-test-id":"overflow-menu-button",children:Object(r.a)(Object(i.jsx)(_,{feedbackData:t,feedbackType:n,pin:d,pinTitle:u,setForcePrimary:p}))})}),e?R:D]})})]})})),w=n("/MKj"),v=n("XSD5"),S=n("ZbwW"),T=n("U4JR");function I({direction:e,swipeHandler:t}){const n={left:u.a._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:u.a._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return Object(i.jsx)(f.e,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:Object(i.jsx)(f.T,{fullHeight:!0,fullWidth:!0,onTap:t,children:Object(i.jsx)(f.e,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-"+e,children:Object(i.jsx)(f.u,{accessibilityLabel:n[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}var C=Object(w.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e(Object(v.a)(t,n))}}))(({pin:e,changeCarouselSlotIndex:t})=>{const{componentType:n,viewParameter:o,viewType:a}=Object(s.b)(),c=Object(S.a)(e);if(!c)return null;const{id:l=""}=e,{carousel_slots:d,index:u,id:p}=c;function h(i){return()=>{const r="left"===i?u-1:u+1;t(l,r),((t,i)=>{Object(T.b)(108,{objectId:l,component:n,view:a,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:d[t]&&Number(d[t].id),carouselDataId:Number(p),carouselSlotIndex:t,toCarouselSlotIndex:i}},...Object(b.f)(e)||{}})})(u,r)}}return Object(i.jsxs)(f.e,{height:"100%",position:"relative",width:"100%",children:[u>0&&Object(r.a)(Object(i.jsx)(I,{direction:"left",swipeHandler:h("left")})),u<d.length-1&&Object(r.a)(Object(i.jsx)(I,{direction:"right",swipeHandler:h("right")}))]})}),P=n("h9/w"),E=n("clxp"),k=n("FDmi");function R({avatarUrl:e,attributionNameLink:t,name:n="",onClick:o,accessibilityLabel:r}){const a=Object(i.jsx)(f.e,{height:"32px",width:"32px",children:Object(i.jsx)(k.a,{name:n,src:e,accessibilityLabel:r})});return t?Object(i.jsx)(p.a,{className:"underlineLink",to:t,onClick:o,children:a}):a}function D({attributionNameLink:e,name:t,onClick:n,regularWeight:o}){const r=Object(i.jsx)(f.U,{size:"md",truncate:!0,weight:o?"normal":"bold",children:t});return Object(i.jsx)(f.e,{children:e?Object(i.jsx)(p.a,{className:"underlineLink",onClick:n,to:e,children:r}):r})}function L({link:e,onClick:t,title:n,weight:o}){if(!n)return null;const r=Object(i.jsx)(f.U,{size:"md",truncate:!0,weight:o,children:n});return e?Object(i.jsx)(p.a,{className:"underlineLink",onClick:t,to:e,children:r}):r}var N=n("b9Z9"),B=n("ynlw"),A=n("Zxas"),U=n("vvax"),M=n("fc1g");var F=Object(w.connect)(null,(function(e){return{setMostRecentPin:t=>{e(Object(M.a)(t))}}}))((function({attributionNameLink:e,attributionTitle:t,avatarUrl:n,isDarkPromoter:o,pin:r,name:a,setMostRecentPin:c,sponsorUrl:l,url:d}){const{viewParameter:b,viewType:m}=Object(s.b)(),{id:g,pinner:j,sponsorship:O,story_pin_data_id:_}=r,{isPromoted:y}=Object(B.a)(r),x=j||r.promoter,{creator:{id:w}={},sponsor:{id:v}={}}=O||{},S=!!_,T=Object(h.a)(101,{view:3,element:y?283:27,objectId:g,component:S?230:void 0,...w?{creator_id:w,pin_id:g}:{}}),I=Object(h.a)(101,{view:3,element:27,pin_id:g,objectId:g,component:S?230:void 0,...w&&v?{creator_id:w,sponsor_id:v}:{}}),C=d&&!e,P=Object(i.jsxs)(f.e,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[Object(i.jsx)(f.e,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},children:Object(i.jsx)(N.a,{avatarSize:32,isDarkPromoter:o,pinId:g,user:x,username:x&&x.username,viewParameter:b,viewType:m,children:Object(i.jsx)(R,{attributionNameLink:e,avatarUrl:n,name:a,onClick:T,accessibilityLabel:""})})}),Object(i.jsxs)(f.e,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",children:[Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:Object(i.jsx)(D,{attributionNameLink:e,name:a,onClick:T,regularWeight:!t})}),l?Object(i.jsx)(f.U,{size:"md",weight:"bold",children:Object(U.b)(u.a._("Paid partnership with {{ name }}","pinrep.attribution.sponsoredPinTitle","Subtext of pinrep attribution when sponsored by a brand"),{name:Object(i.jsx)(L,{link:l,onClick:I,title:Object(A.a)(t,20),weight:"bold"})})}):Object(i.jsx)(L,{title:t})]})]});return C?Object(i.jsx)(p.a,{className:"underlineLink",onClick:()=>{c(g),T()},to:d,children:P}):P})),H=n("rSLd"),G=n("UAdG"),V=n("MhBu"),z=n("tuD4"),W=n("HJ6M"),q=n("KFEb"),Y=n("zq6P");function K({board:e,favorited:t,pinId:n}){const o=Object(w.useDispatch)(),{currentFilter:r,eligibleFilters:a,refreshData:s=(()=>{}),sectionId:c}=Object(Y.b)(),l=r===W.b,d=Object(z.a)(a,W.b);return Object(i.jsx)(G.a,{favorited:t,onFavorite:()=>{d&&s()},onUnfavorite:()=>{e&&l&&o(Object(V.a)({feedId:c||e.id,feedType:c?q.a.SECTION_PINS:q.a.BOARD_PINS,itemIds:[n],itemType:"pin"}))},pinId:n})}var X=n("oRao"),$=n("T5j3"),Z=n("obIb"),J=n.n(Z),Q=n("X/CP"),ee=n.n(Q),te=n("x/xQ"),ne=n.n(te),ie=n("jOPH"),oe=n.n(ie),re=n("U5D8"),ae=n.n(re);const se={goodIdea:J.a,love:ne.a,thanks:oe.a,wow:ae.a,haha:ee.a},ce={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"};var le=function({pinId:e,reactionCounts:t}){const n=t?Object($.a)(t):null,o=t?Object($.b)(t):0,r=!!n&&n.length>0&&n.map((e,t)=>{const n=se[ce[e]];return Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:Object(i.jsx)(f.e,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)});return!!r&&Object(i.jsx)(p.a,{to:`/pin/${e}/`,children:Object(i.jsxs)(f.e,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:3,children:[Object(i.jsx)(f.e,{display:"flex",direction:"row",children:r}),Object(i.jsx)(f.e,{paddingX:1,children:Object(i.jsx)(f.U,{size:"md",children:Object(i.jsx)(X.a,{value:o,shortform:!0,shortformMaximumFractionDigits:1})})})]})})},de=n("4Utz"),ue=n("Rfw2");function pe({feedbackType:e,pin:t}){const{pinner:n,source_interest:o}=t,{full_name:r,username:a}=n||{},{name:s}=o||{},c="topic"===e,l=!c&&"followed"===e,d=`/${a}/`,h=Object(ue.e)(s),b=`/search/pins/?q=${encodeURIComponent(h)}&rs=image_only_attribution`,m=c?b:d,g={topic:u.a._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:u.a._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:u.a._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:u.a._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!g)return null;if(l||c){const e=0===g.indexOf("{"),t=c?s:r,n=e?g.slice(g.indexOf("}")+1):g.slice(0,g.indexOf("{"));return e?Object(i.jsxs)(f.e,{children:[Object(i.jsx)(p.a,{to:m,children:Object(i.jsx)(f.U,{weight:"bold",inline:!0,size:"md",truncate:!0,children:t})}),Object(i.jsx)(f.U,{inline:!0,size:"md",children:n})]}):Object(i.jsxs)(f.e,{children:[Object(i.jsx)(f.U,{inline:!0,size:"md",children:n}),Object(i.jsx)(p.a,{to:m,children:Object(i.jsx)(f.U,{color:"darkGray",weight:"bold",inline:!0,size:"md",truncate:!0,children:t})})]})}return Object(i.jsx)(f.e,{children:Object(i.jsx)(de.a,{pin:t,children:Object(i.jsx)(f.U,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:g})})})}var he=n("Te6n"),be=n("h4v/");function me(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var fe=n("4cpq");function ge({children:e,componentType:t,contextLogData:n,elementType:o,pin:r,surface:a,viewParameter:c,viewType:l}){const d=Object(s.b)(),{carousel_data:u,id:h,link:b,tracked_link:g}=r;let j,O=g||b,_="one-tap-desktop";if(u){const{carousel_slots:e=[],id:t,index:n}=u;e[n]&&e[n].link&&(O=e[n].link),j={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},_+="-carousel"}return Object(i.jsx)(f.e,{"data-test-id":"otpp",children:Object(i.jsx)(fe.a,{id:_,children:Object(i.jsx)(p.a,{auxData:j,external:!0,onClick:()=>{const e=be.a.getInstance(),i=e.getViewFromContext();Object(T.b)(12,{...n,view:l||d.viewType,viewParameter:c||d.viewParameter,component:t||d.componentType,objectId:h,grid_index:d.slotIndex,pin_id:h,prefetch_percentage_complete:me(b||"")}),Object(m.e)()&&Object(T.b)(8948,{click_type:"clickthrough",closeup_navigation_type:"click",view:l||d.viewType,viewParameter:c||d.viewParameter,...n,component:t||d.componentType,objectId:h,grid_index:d.slotIndex,pin_id:h,prefetch_percentage_complete:me(b||"")}),Object(T.b)(13,{closeup_navigation_type:"web_closeup",objectId:h,component:t||d.componentType,view:3,...d.contextLogData,...n}),e.addViewToContext(i)},pinId:h,style:{cursor:"pointer",display:"block"},surface:a,to:O||"",children:e})})})}var je=n("gC5q"),Oe=n("QAzJ");function _e(e){const{pin:t,surface:n}=e,{isOneTap:o,isVideo:r,isPromoted:a}=Object(B.a)(t),{anyEnabled:s,customActivate:c}=Object(Oe.c)("web_no_tap_tap");!o&&r&&a&&c();const l=o||r&&a&&s?ge:de.a;return Object(i.jsx)(l,{surface:o?n:void 0,...Object(je.b)(e,["surface"])})}function ye({pin:e,pinNoteText:t,singleLineMaxLength:n}){const o=Object(A.a)(t,n);return Object(i.jsx)(_e,{pin:e,children:Object(i.jsx)(f.U,{overflow:"normal",size:"md",children:o})})}var xe=n("EPem"),we=n("US8k");function ve({value:e,valueFormat:t}){return e||0===e?"TIME"===t?Object(we.a)(e):Object(i.jsx)(X.a,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):Object(i.jsx)(f.Y,{idealDirection:"up",text:u.a._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:"—"})}function Se({pin:e}){const{isStoryPin:t,isVideo:n}=Object(B.a)(e),o=function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:i}=t||{},{isStoryPin:o}=Object(B.a)(e);return!n||!o&&i?i:n}(e),r=Object(xe.a)(n,t),a=n||t?null==o?void 0:o.all_time_realtime:null==o?void 0:o["30d_realtime"];return Object(i.jsx)(f.e,{display:"flex",children:r.map(({align:e,displayText:t,field:n,iconType:o,iconSize:r=12,valueFormat:s})=>Object(i.jsxs)(f.e,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[Object(i.jsx)(f.e,{display:"inlineBlock",marginEnd:1,children:Object(i.jsx)(f.u,{accessibilityLabel:t,color:"darkGray",icon:o,size:r})}),Object(i.jsx)(f.U,{inline:!0,size:"md",children:Object(i.jsx)(ve,{value:null==a?void 0:a[n],valueFormat:s})})]},n))})}function Te({currentPrice:e,originalPrice:t,pin:n,surface:o}){const r=t&&t!==e;return Object(i.jsx)(_e,{pin:n,surface:o,children:Object(i.jsxs)(f.e,{display:"flex",direction:"row",children:[e&&Object(i.jsx)(f.U,{color:r?"blue":"darkGray",size:"md",weight:"bold",children:e}),r&&Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:Object(i.jsx)(f.U,{color:"gray",size:"md",weight:"bold",children:t})})]})})}var Ie=n("N89m");function Ce({pin:e,singleLineMaxLength:t,surface:n}){const o=Object(Ie.a)(e),r=Object(A.a)(o,t);return Object(i.jsx)(_e,{pin:e,surface:n,children:Object(i.jsx)(f.e,{display:"flex",direction:"row",children:Object(i.jsx)(f.U,{color:"darkGray",overflow:"normal",size:"md",weight:"normal",children:r})})})}function Pe({numberOfLines:e=2,pin:t,pinTitle:n,singleLineMaxLength:o,surface:r}){const a=e*o,s=Object(A.a)(n,a);return Object(i.jsx)(_e,{pin:t,surface:r,children:Object(i.jsx)(f.U,{color:"darkGray",overflow:"normal",size:"md",weight:"bold",children:s})})}var Ee=n("+tKw");function ke({pin:e,showGroupBoardAvatar:t,singleLineMaxLength:n,userNote:o}){const{pinner:r}=e;if(!r)return null;const{full_name:a,image_small_url:s}=r,c=1.8*n,l=Object(A.a)(o,c);return Object(i.jsx)(_e,{pin:e,children:Object(i.jsxs)(f.e,{alignItems:"center",display:"flex",children:[!t&&Object(i.jsx)(f.e,{flex:"none",marginEnd:2,children:Object(i.jsx)(k.a,{name:a,size:"xs",src:s})}),Object(i.jsx)(f.e,{"data-test-id":"PinRep-UserNote",children:Object(i.jsx)(f.U,{overflow:"normal",size:"md",children:Object(i.jsx)(Ee.a,{text:l,options:{hashtags:{source:"hashtag_closeup"}}})})})]})})}var Re=n("XLg/");const De=Object(o.lazy)(()=>n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"TbX8"))),Le={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Re.a}ms ease`},visible:{opacity:1}}};var Ne=Object(o.memo)((function({attributionType:e,blockClickEvents:t,contentType:n,feedbackData:s,feedbackType:c,hoverTransitionState:l,isDarkPromoter:d,pin:p,board:h,pinNoteText:b,pinTitle:m,productOriginalPrice:g,productCurrentPrice:j,setForcePrimary:O,showBoardActivityReply:_,showCarouselEllipsis:y,showFavoriteButton:x,showGroupBoardAvatar:w,showOverflowMenu:v,showNativeReactions:S,showPinStats:T,showSource:I,showTextContent:C,singleLineMaxLength:P,surface:E,titleLines:k,userNote:D}){const{board_activity:L,id:N,sponsorship:A}=p,U=m||I,M=U||D,{anyEnabled:G,customActivate:V}=Object(Oe.c)("web_today_article_claimed_content_attribution","TodayArticleFeed"===E),{anyEnabled:z}=Object(Oe.a)("mweb_web_sponsored_pins",!!A),{anyEnabled:W}=Object(Oe.d)("web_pin_notes"),{anyEnabled:q}=Object(Oe.d)("web_board_favorites",x),Y=function(e,t,n={isEnabledTodayArticleClaimedContentAttrExperiment:!1,activateEnabledTodayArticleClaimedContentAttrExperiment:()=>{},isEnabledSponsoredPinExperiment:!1}){const{board:i,link_domain:o={},promoter:r,sponsorship:a,native_creator:s}=e,{isEnabledTodayArticleClaimedContentAttrExperiment:c,activateEnabledTodayArticleClaimedContentAttrExperiment:l,isEnabledSponsoredPinExperiment:d}=n,{isPromoted:p}=Object(B.a)(e),{official_user:h}=o||{},b=e.pinner||{};let m="",f="",g="",j="",O="",_="";if(p&&r)m=r.image_medium_url||r.image_small_url,g=r.full_name,j=u.a._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),_=`/${r.username}/`;else if(d&&a){const{creator:e,sponsor:t}=a;m=e.image_medium_url||e.image_small_url,f=`/${e.username}/`,g=t.full_name,j=e.full_name,_=`/${e.username}/`,O=`/${t.username}/`}else s?(m=s.image_medium_url||s.image_small_url,j=s.full_name,_=`/${s.username}/`):"show-for-claimed-content"===t?(l(),(null==h?void 0:h.is_primary_website_verified)&&c&&(m=h.image_medium_url||h.image_small_url,j=h.full_name,_=`/${h.username}/`)):(m=b.image_medium_url||b.image_small_url,f=`/${b.username}/`,j=b.full_name,_=i?i.url:"");return{avatarUrl:m,attributionNameLink:f,attributionTitle:g,name:j,sponsorUrl:O,url:_}}(p,e,{isEnabledTodayArticleClaimedContentAttrExperiment:G,activateEnabledTodayArticleClaimedContentAttrExperiment:V,isEnabledSponsoredPinExperiment:z}),{avatarUrl:X,attributionNameLink:$,attributionTitle:Z,name:J,sponsorUrl:Q,url:ee}=Y,te=Object(i.jsxs)(f.e,{dangerouslySetInlineStyle:{__style:Le.container},children:[y&&Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:U||w||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:Object(i.jsx)(H.default,{pinId:N})}),T&&Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:Object(i.jsx)(Se,{pin:p})}),Object(i.jsx)(f.e,{display:"flex",children:Object(i.jsxs)(f.e,{flex:"grow",children:[(C&&M||q)&&Object(i.jsxs)(f.e,{dangerouslySetInlineStyle:{__style:"none"!==e||w?{marginBottom:"6px"}:{}},children:[(g||j)&&Object(i.jsx)(f.e,{marginBottom:1,children:Object(i.jsx)(Te,{currentPrice:j,originalPrice:g,pin:p,surface:E})}),q?Object(i.jsxs)(f.q,{alignItems:"start",children:[Object(i.jsx)(f.q,{flex:"grow",children:Object(i.jsx)(Pe,{numberOfLines:k,pin:p,pinTitle:m,singleLineMaxLength:P,surface:E})}),Object(i.jsx)(f.e,{marginTop:1,marginStart:3,children:Object(i.jsx)(K,{board:h,favorited:!!p.favorited_by_me,pinId:p.id})})]}):Object(i.jsx)(Pe,{numberOfLines:k,pin:p,pinTitle:m,singleLineMaxLength:P,surface:E}),I&&Object(i.jsx)(Ce,{pin:p,singleLineMaxLength:P,surface:E}),!W&&D&&Object(i.jsx)(f.e,{marginTop:U?1:0,children:Object(i.jsx)(ke,{pin:p,showGroupBoardAvatar:w,singleLineMaxLength:P,userNote:D})})]}),Object(i.jsxs)(f.e,{alignItems:"center",display:"flex",children:[Object(i.jsx)(f.e,{flex:"grow",children:(()=>{switch(e){case"none":return null;case"image-only-credit":return Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:Le.imageOnlyAttribution["active"===l?"visible":"hidden"]},children:Object(i.jsx)(pe,{pin:p,feedbackType:c})});default:return Object.values(Y).some(e=>Boolean(e))?Object(i.jsx)(F,{attributionNameLink:$,attributionTitle:Z,avatarUrl:X,isDarkPromoter:d,name:J,pin:p,sponsorUrl:Q,url:ee}):null}})()}),v&&Object(i.jsx)(f.e,{flex:"none",children:Object(i.jsx)(he.default,{feedbackData:s,feedbackType:c,pin:p,pinTitle:m,setForcePrimary:O,transparentBackground:!0})})]}),S&&!!p.reaction_counts&&Object(i.jsx)(f.e,{children:Object(i.jsx)(le,{pinId:p.id,reactionCounts:p.reaction_counts})}),W&&b&&Object(i.jsx)(f.e,{marginBottom:1,children:Object(i.jsx)(ye,{pin:p,pinNoteText:b,singleLineMaxLength:P})}),w&&Object(i.jsxs)(f.e,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:[Object(i.jsx)(R,{attributionNameLink:$,avatarUrl:X,name:J}),Object(i.jsx)(f.e,{marginStart:2,flex:"grow",children:Object(i.jsx)(f.U,{size:"md",children:J})}),Object(i.jsx)(f.e,{children:Object(i.jsx)(a.a,{children:Object(i.jsx)(De,{pinId:p.id,board:h,activityId:L&&L.id||p.id,showReply:_})})})]})]})})]}),ne=Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:Le.productContainer},children:Object(i.jsx)(f.e,{display:"flex",children:Object(i.jsx)(f.e,{flex:"grow",children:M&&Object(i.jsxs)(o.Fragment,{children:[(g||j)&&Object(i.jsx)(f.e,{marginBottom:1,children:Object(i.jsx)(Te,{currentPrice:j,originalPrice:g,pin:p,surface:E})}),Object(i.jsx)(f.e,{marginBottom:1,children:Object(i.jsx)(Pe,{numberOfLines:k,pin:p,pinTitle:m,singleLineMaxLength:P,surface:E})}),I&&Object(i.jsx)(Ce,{pin:p,singleLineMaxLength:P,surface:E})]})})})}),ie="shopping"===n?ne:te;return t?Object(i.jsx)("div",{style:{pointerEvents:"none"},children:ie}):Object(r.a)(ie)})),Be=n("4+TC"),Ae=n("AAEI"),Ue=n("d90F"),Me=n("0S8y");const Fe=Object(o.lazy)(()=>Promise.all([n.e(97),n.e(110),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"jHGc"))),He=Object(o.lazy)(()=>Promise.all([n.e(97),n.e(110),n.e("PinPersistentOneClickSaveCommon")]).then(n.bind(null,"f6y4"))),Ge=Object(o.lazy)(()=>Promise.all([n.e(97),n.e(110),n.e(225),n.e("PinSaveButtonCommon")]).then(n.bind(null,"rO08"))),Ve=Object(o.lazy)(()=>Promise.all([n.e(97),n.e(110),n.e(225),n.e(289),n.e("PinBetterSaveCommon")]).then(n.bind(null,"fEA9"))),ze=Object(o.lazy)(()=>n.e("QuickSaveButtonCommon").then(n.bind(null,"iTUf"))),We=Object(o.lazy)(()=>n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"nGh2"))),qe=Object(o.lazy)(()=>n.e("PinPromoteButtonCommon").then(n.bind(null,"ATEG")));function Ye({board:e,derivedSaveButtonOptions:t,forcePrimaryContent:n,onToggleFlyout:c,onToggleModal:l,pin:d,showEditButton:u,showLikeButton:p,supportsReactionBar:b,shouldUseLegoStyles:m}){const g=Object(Ae.a)(),[j,O]=Object(o.useState)(!1),{carousel_data:_,id:y,savedInfo:x}=d,v=Object(o.useRef)(!!x),S=Object(w.useSelector)(({experiences:e})=>Object(Me.d)(e.eligibleExperiences)),{viewParameter:T,viewType:I}=Object(s.b)(),C=Object(h.a)(101,{element:0,objectId:y});let P=null;const k={onToggleModal:c,view:I,viewParameter:T,useLegoStyles:!0};if(!j)if(!t.hidePinBetterSaveDropdown&&S&&["classic","controlled","inline"].includes(t.type)){const{renderPinSaveTooltip:e}=t,o=()=>{g.viewExperience(1000294,502450)},s=()=>{g.completeExperience(1000294,502450,!0)};P=Object(i.jsx)(a.a,{children:Object(r.a)(Object(i.jsx)(ze,{forcePrimaryContent:n,onComplete:s,onMount:o,pin:d,renderPinSaveTooltip:e,viewParameter:T}))})}else if("classic"===t.type||"controlled"===t.type){const{renderPinSaveTooltip:e}=t;P=Object(i.jsx)(a.a,{children:Object(i.jsx)(f.e,{"data-test-id":"pin-save-button",maxWidth:"100%",children:Object(r.a)(Object(i.jsx)(Ge,{onClickCallback:C,onToggleModal:l,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:e,renderSavedStatus:()=>!!x&&Object(r.a)(Object(i.jsx)(Be.a,{isNewlySaved:!v.current,name:x.title,url:x.url})),variant:"lego",viewParameter:T}))})})}else if("inline"===t.type){const e=d,{initialSelection:n,onSave:o,renderPinSaveTooltip:s,hidePinBetterSaveDropdown:u}=t;P=Object(i.jsx)(a.a,{children:Object(i.jsx)(f.e,{"data-test-id":"better-save",children:Object(r.a)(Object(i.jsx)(Ve,{initialSelection:n,onSave:o,onToggleFlyout:c,onToggleModal:l,pin:e,renderPinSaveTooltip:s,shouldUseLegoStyles:m,renderSavedStatus:({savedInfo:e})=>e&&Object(r.a)(Object(i.jsx)(Be.a,{isNewlySaved:!v.current,name:e.title,url:e.url,shouldUseLegoStyles:m})),useMasonryFlyout:!0,variant:"pin",viewParameter:T,hideDropdown:u}))})})}else"persistentOneClickSave"===t.type?P=Object(i.jsx)(a.a,{children:Object(i.jsx)(f.e,{"data-test-id":"persistent-one-click-save",children:Object(r.a)(Object(i.jsx)(He,{...k,saveOptions:t,pin:d}))})}):"promote"===t.type&&(P=Object(i.jsx)(f.e,{display:"flex",justifyContent:"end",children:Object(i.jsx)(a.a,{children:Object(i.jsx)(f.e,{"data-test-id":"pin-promote-button",children:Object(r.a)(Object(i.jsx)(qe,{pin:d}))})})}));let R=null;return u?R=Object(i.jsx)(a.a,{children:Object(r.a)(Object(i.jsx)(f.e,{"data-test-id":"edit-button",display:"inlineBlock",children:Object(i.jsx)(Fe,{...k,carouselSlotCurrentIndex:_&&_.index,component:0,pinId:y,style:{size:"sm"}})}))}):p&&(R=Object(i.jsx)(a.a,{children:Object(i.jsx)(f.e,{"data-test-id":"like-button",children:Object(i.jsx)(Ue.a,{name:"group_boards_reactions",activate:!1,children:({anyEnabled:t,customActivate:n})=>Object(r.a)(Object(i.jsx)(We,{pin:d,board:e,activateReactionsExperiment:n,inReactionsExperiment:t,onShowReactionsBar:()=>O(!0),onHideReactionsBar:()=>O(!1),supportsReactionBar:b,useLegoStyles:!0}))})})})),Object(i.jsx)(E.a,{name:"PinRepPrimaryContent",children:Object(i.jsxs)(f.e,{display:"flex",margin:3,children:[R&&Object(i.jsx)(f.e,{flex:"grow",marginEnd:"auto",children:R}),P&&Object(i.jsx)(f.e,{marginStart:"auto",flex:"grow",children:P})]})})}var Ke=n("7wXf"),Xe=n("VJm5"),$e=n("3qdF"),Ze=n("qhFy"),Je=n("HOY+");const Qe={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function et({isSelected:e}){return Object(i.jsx)(f.e,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?Qe:{},children:Object(i.jsx)(f.e,{position:"absolute",bottom:!0,right:!0,padding:3,children:Object(i.jsx)(f.e,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:Object(i.jsx)(f.u,{accessibilityLabel:u.a._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var tt=n("FgHp");function nt({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:r,isDenseView:a,isHovering:l,isSocialSeasonalBoard:d=!1,onError:u,onLoad:p,pin:h,pinImageCrop:b,resolution:m="default",rootMargin:g,selectionState:j,showCarousel:O,showPromotedVideos:_,surface:y}){const{contextLogData:x,slotIndex:w,viewParameter:v,viewType:S}=Object(s.b)(),{group:T}=Object(Oe.a)("web_preload_story_pin_video_in_feed"),{id:I="",aggregated_pin_data:C,image_signature:P,story_pin_data:E}=h,{pin_tags_chips:k}=C||{},{isOneTap:R,isVideo:D,isPromoted:L,isGif:N}=Object(B.a)(h),{cropHeight:A,cropWidth:U}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(b);let M=null;if(e||!D||!_&&L)if(O)M=Object(i.jsx)(f.e,{"data-test-id":"pinrep-carousel",children:Object(i.jsx)(Xe.a,{cropHeight:A,cropWidth:U,onError:u,onLoad:p,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,pinId:I,showCarouselBadge:!1,isDenseView:a,pin:h})});else{const e="backend"===b?function({images:e,image_crop:t}){const n=e&&e["236x"].height;if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e,max_y:i}=t;return{marginTop:(e>0?-1*e*n:0)+"px",marginBottom:(i<1?Math.round(-1*(1-i)*n):0)+"px"}}return{}}(h):{};M=Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:Object(i.jsx)(Ze.b,{animateGif:N&&d,cropHeight:A,cropWidth:U,fallbackColor:n,imageFit:r,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,mediumResOnly:"medium-res"===m,onLoad:p,onError:u,pin:h})})}else M=Object(i.jsx)(f.e,{"data-test-id":"pinrep-video",height:A||void 0,children:Object(i.jsx)(Je.a,{cropHeight:A,rootMargin:g,inAdsDesktopVideoExperiment:D&&_,pin:h,surface:y,onLoad:p,viewType:S,viewParameter:v,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,onError:u,isExperimentalPinRep:!0})});const F=Object(i.jsx)(f.B,{wash:!0,children:Object(i.jsx)(c.a,{hovered:l,pin:h,slotIndex:w,viewType:1,children:M})}),H=["selected-image-only","deselected-image-only"].includes(j),G="selected-image-only"===j,V=Object(o.useRef)(!0);if(Object(o.useEffect)(()=>{V.current||!l||"enabled_hover"!==T||R||t||!E||Object(tt.a)(E),V.current=!1},[l]),t)return Object(i.jsxs)(o.Fragment,{children:[F,H&&Object(i.jsx)(et,{isSelected:G}),k&&Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(i.jsx)($e.a,{pin:h,enableCloseupLink:!0})})]});const{commerce_data:z}=x||{},W=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(y);return Object(i.jsxs)(_e,{contextLogData:{grid_index:w,image_signature:P,commerce_data:W?z:void 0},elementType:35,pin:h,surface:y,children:[F,k&&Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:Object(i.jsx)($e.a,{pin:h,enableCloseupLink:!1})})]})}var it=n("CgR/"),ot=n("Sp3T");var rt=it.a.makeSendShareButton(({handleSendShareFlyoutButtonClick:e,viewType:t})=>{const n=Object(ot.a)();return Object(i.jsx)(f.f,{onClick:({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),n(()=>{e()})},text:u.a._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:u.a._("Send","Accessible label to send a pin","Accessible label to send a pin")})});function at(e){return e<160?"header-only":"none"}function st(e){const[t,n]=Object(o.useState)(e.current?at(e.current.clientHeight||0):"none");return function(e,t){const n=Object(o.useRef)();Object(o.useEffect)(()=>{const i=e.current;if(!i)return;const o=n.current;o&&o.width===i.offsetWidth&&o.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))}),n.current}(e,({height:e})=>{const i=at(e);i!==t&&n(i)}),t}var ct=n("W5T3"),lt=n("I7CA"),dt=n("eqXv"),ut=n("tMjw");const pt={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:ut.a,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},navigateLinkStyle:{color:"white",textDecorationColor:"white",cursor:"pointer"}},ht=["followed","related","search"],bt=["pfy","pfyBoard"];function mt({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n}){const[r,a]=Object(o.useState)(!1),[s,c]=Object(o.useState)(!1);Object(o.useEffect)(()=>a(!0),[]);const l=()=>c(!0),{feedbackText:d,images:h,showFeedbackOverlay:b,undoAction:m,undoText:g}=n,j=h&&h["236x"].url,{image:O,subTitle:_,title:y,unfollow:x}=d,w=!ht.includes(e),v=bt.includes(e),S=()=>{Object(T.b)(101,{view:1,viewParameter:92,element:11347})};return Object(i.jsxs)(f.e,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:ut.a}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[Object(i.jsxs)(f.e,{dangerouslySetInlineStyle:{__style:{borderRadius:ut.a}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[j&&Object(i.jsx)(lt.a,{additionalStyles:{...pt.background.base,...r?pt.background.blurred:{},backgroundImage:`url("${j}")`}}),Object(i.jsx)(lt.a,{additionalStyles:{...pt.backdrop.base,...pt.backdrop.blurred}})]}),Object(i.jsx)(f.e,{dangerouslySetInlineStyle:{__style:{...pt.feedbackOverlayContainer.base,...!b&&r?pt.feedbackOverlayContainer.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:Object(i.jsx)(f.e,{height:"100%",children:Object(i.jsxs)(f.e,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[Object(i.jsx)(f.e,{marginBottom:2,children:Object(i.jsx)(f.t,{color:"white",size:"sm",children:y})}),Object(i.jsxs)(f.e,{display:"flex",marginBottom:1,children:[O&&Object(i.jsx)(f.e,{marginEnd:3,children:Object(i.jsx)(f.B,{width:O.width,height:O.height,rounding:2,wash:!0,children:Object(i.jsx)(f.w,{alt:_||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:O.url||""})})}),Object(i.jsx)(f.U,{color:"white",overflow:"normal",children:_})]}),t?Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(f.e,{children:Object(i.jsx)(f.T,{onTap:m,children:Object(i.jsx)(f.U,{color:"white",weight:"bold",overflow:"normal",children:u.a._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),Object(i.jsxs)(f.e,{marginTop:"auto",children:[!m&&!s&&x&&!v&&Object(i.jsx)(f.f,{color:"white",onClick:()=>Object(dt.a)(x.action,x.actionOptions,l),text:u.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),w&&Object(i.jsx)(p.a,{to:"/edit",onClick:S,children:Object(i.jsx)(f.f,{color:"white",text:u.a._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})})]})]}):Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(f.e,{children:w&&Object(i.jsx)(p.a,{className:"underlineLink",to:"/edit",onClick:S,style:pt.navigateLinkStyle,children:Object(i.jsx)(f.U,{color:"white",weight:"bold",overflow:"normal",children:u.a._(" Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),Object(i.jsxs)(f.e,{marginTop:"auto",children:[!m&&!s&&x&&!v&&Object(i.jsx)(f.f,{color:"white",onClick:()=>Object(dt.a)(x.action,x.actionOptions,l),text:u.a._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),m&&Object(i.jsx)(f.f,{color:"white",onClick:m,text:g||u.a._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}function ft(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function gt(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const jt=228;t.b=Object(o.memo)((function({actionBarProps:e,blockClickEvents:t,currentlyPlayingVideo:n,disableHover:r=!1,footerProps:a,forcePrimaryContentVisibility:c,impressionsDebuggerProps:l,onError:d,onLoad:u,obscuredPinOverlayProps:p,pin:h,pinVisualProps:b,presentationProps:m,primaryContentProps:g,selectionState:j,secondaryContentProps:O,showAccessoryContent:_,showActionBar:y,showFooter:w,showImpressionsDebugger:v,showSignalDebugger:S,showObscuredPinOverlay:T,showPrimaryAndSecondaryContent:I,surface:k}){const{savedInfo:R}=h,{viewType:D}=Object(s.b)(),[L,N]=Object(o.useState)(!1),B=Object(Re.b)(L);let{isHovering:A,hoverTransitionState:U,handleMouseOver:M,handleMouseLeave:F}=function(){const[e,t]=Object(o.useState)(!1);return{isHovering:e,hoverTransitionState:Object(Re.b)(e,0,Re.a),handleMouseOver:Object(o.useCallback)(()=>t(!0),[t]),handleMouseLeave:Object(o.useCallback)(()=>t(!1),[t])}}();r&&(A=!1,U="inactive");const H=Object(Re.b)(!!R),G=ft(H),V=ft(U),z=ft(U),W=ft(B),q=ft(H),Y={primaryContentVisibility:gt(z,W,q),secondaryContentVisibility:(K=gt(z,W,q),"none"===K?"visible":"visible"===K?"none":"hidden"),actionBarVisibility:gt(z,W),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var K;const X=e=>N(e),$=e=>N(e),Z=e=>{N(e),e||F()};let J=null;c&&(Y.primaryContentVisibility="visible"),"none"!==Y.primaryContentVisibility&&I&&(J=Object(i.jsx)(Ye,{pin:h,forcePrimaryContent:X,onToggleFlyout:$,onToggleModal:Z,...g}));let Q=null;const ee=Object(o.useRef)(!0),te=ee.current;ee.current=!1;const ne=function(e,t){const{carousel_data:n}=e,{index:i}=n||{},[r,a]=Object(o.useState)(!n||t),s=Object(o.useRef)(i),c=Object(o.useRef)(null);if(n){const e=s.current;s.current=i,(i!==e||t)&&(c.current&&clearTimeout(c.current),a(!0),c.current=setTimeout(()=>{a(!1),c.current=null},4e3))}return Object(o.useEffect)(()=>()=>{c.current&&clearTimeout(c.current)},[]),r}(h,te),ie=ft(Object(Re.b)(ne));Y.secondaryContentVisibility=function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(Y.secondaryContentVisibility,ie),Q=(O.allowShoppingPriceIndicator||O.shoppingLabelColor||"none"!==Y.secondaryContentVisibility)&&I&&!n&&Object(i.jsx)(f.e,{margin:2,children:Object(i.jsx)(Ke.a,{pin:h,...O})});let oe=null;_&&(oe=Object(i.jsx)(C,{pin:h}),Y.accessoryContentVisibility=ft(U)),b.isSocialSeasonalBoard&&(e.showShareButton=!1);const re=y?Object(i.jsx)(x,{onToggleFlyout:$,onToggleModal:Z,pin:h,setForcePrimary:N,surface:k,...e}):null;let ae=null;w&&(ae=Object(i.jsx)(Ne,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===a.attributionType?U:null,pin:h,setForcePrimary:N,surface:k,...a})),b.isSocialSeasonalBoard&&(ae=Object(i.jsx)(f.e,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:Object(i.jsx)(f.e,{margin:"auto",width:jt,children:Object(i.jsx)(rt,{isFlyoutOpen:L,onFlyoutDismiss:()=>$(!L),onToggleFlyout:()=>$(!L),pinId:h.id,sendType:"pin",shownWithinMasonry:!0,viewType:D})})}));const se=v&&Object(i.jsx)(ct.b,{...l}),ce=S&&h.debug_info_html&&Object(i.jsx)(f.e,{paddingY:1,children:Object(i.jsx)("pre",{children:h.debug_info_html})}),le=Object(i.jsx)(P.a,{pin:h}),de=Object(o.useRef)();"header-only"===st(de)&&(Y.actionBarVisibility="none",Y.accessoryContentVisibility="none");const ue=T?Object(i.jsx)(mt,{pin:h,...p}):null;return Object(i.jsx)(E.a,{name:"PinRepContainer",children:Object(i.jsx)("div",{onMouseOver:M,onMouseLeave:F,"data-test-id":"pin","data-test-pin-id":h.id,children:Object(i.jsx)(ut.c,{visualOverlayVisibility:V,savedOverlayVisibility:G,primaryContent:J,primaryContentVisibility:Y.primaryContentVisibility,secondaryContent:Q,secondaryContentVisibility:Y.secondaryContentVisibility,accessoryContent:oe,accessoryContentVisibility:Y.accessoryContentVisibility,actionBar:re,actionBarVisibility:Y.actionBarVisibility,footer:ae,selectionState:j,debugContent:se,signalDebuggerV2Content:le,signalDebuggerV2ContentVisibility:Y.signalDebuggerV2ContentVisibility,signalDebuggerContent:ce,obscuredPinOverlay:ue,...m,children:Object(i.jsx)(f.e,{ref:de,children:Object(i.jsx)(nt,{blockClickEvents:t,isHovering:A,onError:d,onLoad:u,pin:h,surface:k,selectionState:j,...b})})})})})}))},"gD/Z":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("1dBE");const{Provider:o,Consumer:r,useHook:a}=Object(i.c)("trackingParametersContext")},gTC0:function(e,t,n){var i=n("nKUr"),o=n("1Vso"),r=n("n6mq");const a={borderRadius:"50%"},s={backgroundColor:"rgb(226, 226, 226)"},c={backgroundColor:"rgb(218, 218, 218)"},l={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0},d={backgroundColor:"rgb(255,255,255)"},u=({accessibilityLabel:e,active:t,focused:n,hovered:o,icon:u,isSVG:p,iconOnly:h})=>{const b=h?{...a,...d}:{...a,...o?s:{},...t?c:{},...n?l:{}};return Object(i.jsx)(r.e,{"data-test-id":"lego-icon-wrapper",color:"transparent",rounding:"circle",dangerouslySetInlineStyle:{__style:b},children:Object(i.jsx)(r.e,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:h?30:44,minWidth:h?30:44}},children:p?Object(i.jsx)(r.u,{accessibilityLabel:e,dangerouslySetSvgPath:{__path:u},color:"darkGray",inline:!0,size:h?16:20}):Object(i.jsx)(r.u,{accessibilityLabel:e,icon:u,color:"darkGray",inline:!0,size:h?16:20})})})};t.a=e=>{const{accessibilityLabel:t,onClick:n,icon:r,isSVG:a,shadowType:s,iconOnly:c}=e;return Object(i.jsx)(o.a,{accessibilityLabel:t,className:s||"",dataTestId:"lego-button",onClick:n,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none",borderRadius:"50%"},children:({active:e,hovered:n,focused:o})=>Object(i.jsx)(u,{active:e,accessibilityLabel:t,hovered:n,focused:o,icon:r,isSVG:a,iconOnly:c})})}},geGc:function(e,t,n){n.r(t),n.d(t,"default",(function(){return Oe}));var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("Ye/N"),s=n("FDmi"),c=n("oVol"),l=n("n6mq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.Component{constructor(...e){super(...e),d(this,"state",{textValue:this.props.initialTextValue||""}),d(this,"handleSendMessage",()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)}),d(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})})}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,o=this.props.recipient||{},r="conversation_share_suggestion"===o.type,c=r?(o.users||[]).filter(e=>e.id!==n):[];return Object(i.jsxs)(l.e,{paddingX:4,width:360,children:[Object(i.jsxs)(l.e,{alignItems:"center",display:"flex",paddingY:4,children:[Object(i.jsx)(l.e,{height:48,paddingX:1,width:56,children:r?Object(i.jsx)(l.s,{collaborators:c.map(e=>({name:e.full_name||e.first_name,src:e.image_large_url}))}):Object(i.jsx)(s.a,{name:o.full_name||o.email||" ",src:o.image_large_url})}),Object(i.jsxs)(l.e,{direction:"column",flex:"grow",marginStart:1,children:[Object(i.jsx)(l.U,{weight:"bold",children:r?c.map(e=>e.first_name||e.full_name).join(", "):o.full_name||o.email}),Object(i.jsx)(l.U,{color:"gray",size:"sm",children:r||o.username?o.username:a.a._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible")})]}),e?Object(i.jsx)(l.v,{accessibilityLabel:a.a._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null]}),Object(i.jsxs)(l.e,{children:[Object(i.jsx)(l.e,{children:Object(i.jsx)(l.V,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:a.a._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})}),Object(i.jsx)(l.e,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:Object(i.jsx)(l.f,{color:"red",inline:!0,onClick:this.handleSendMessage,size:"lg",text:a.a._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"})})]})]})}}var p=Object(r.connect)((function({viewer:e}){return{viewerId:e.isAuth?e.id:""}}),()=>({}))(u),h=n("fZbY");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.Component{constructor(...e){super(...e),b(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),b(this,"handleSendEmail",(e,t)=>{if(e){const n={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(n,t)}}),b(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),b(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return Object(i.jsxs)(l.e,{display:"flex",direction:"column",column:12,paddingX:4,width:360,children:[Object(i.jsxs)(l.e,{display:"flex",alignItems:"center",paddingY:4,children:[Object(i.jsx)(l.e,{flex:"grow",children:Object(i.jsx)(l.U,{weight:"bold",children:a.a._("Send to","shareSheet.SendToEmail.label","Send to label")})}),e?Object(i.jsx)(l.v,{accessibilityLabel:a.a._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null]}),Object(i.jsxs)(l.e,{display:"flex",direction:"column",children:[Object(i.jsx)(l.e,{paddingY:1,marginBottom:4,children:Object(i.jsx)(l.V,{id:"email",onChange:this.handleEmailValueChange,placeholder:a.a._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})}),Object(i.jsx)(l.V,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:a.a._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),Object(i.jsx)(l.e,{paddingY:4,display:"flex",justifyContent:"center",children:Object(i.jsx)(l.f,{inline:!0,size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:a.a._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!Object(h.a)(this.state.emailValue)})})]})]})}}var f=n("vvax");function g({email:e,isValid:t,onClick:n,showSendEmailText:o}){const r=t?a.a._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):a.a._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),c=o?Object(f.b)(a.a._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):Object(f.b)(a.a._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return Object(i.jsx)(l.e,{marginBottom:4,children:Object(i.jsx)(l.T,{onTap:()=>{t&&n()},children:Object(i.jsxs)(l.e,{display:"flex",children:[Object(i.jsx)(l.e,{height:48,width:48,children:Object(i.jsx)(s.a,{name:e})}),Object(i.jsxs)(l.e,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[Object(i.jsx)(l.U,{weight:"bold",size:"lg",children:c}),Object(i.jsx)(l.U,{size:"sm",color:"gray",children:r})]})]})})})}var j=n("iS6d"),O=n("w1Xl"),_=n("8vQR"),y=n("4cpq");function x(e){const{shouldShowViewChat:t,isSent:n,onClickSend:o,onViewConversation:r}=e;return Object(i.jsx)(l.e,{display:"flex",children:t?Object(i.jsx)(l.T,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),r()},children:Object(i.jsxs)(l.e,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[Object(i.jsx)(l.U,{color:"darkGray",size:"md",truncate:!0,weight:"bold",children:a.a._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")}),Object(i.jsx)(l.e,{marginStart:1,children:Object(i.jsx)(l.u,{accessibilityLabel:a.a._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})})]})}):Object(i.jsx)(y.a,{id:n?"sharesheet-viewchat-link":"sharesheet-send-button",children:Object(i.jsx)(l.f,{color:n?"gray":"red",disabled:n,inline:!0,onClick:o,size:"lg",text:n?a.a._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):a.a._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})})})}var w=n("U4JR");function v(e){var t,n,a;const{item:c,textFieldValue:d,onSendMessage:u,onShowSendDraft:p,onViewConversation:h,sentHistory:b}=e,[m,f]=Object(o.useState)(!1),[g,y]=Object(o.useState)(!1),[v,S]=Object(o.useState)(!1),T=c.id||"string"==typeof c.email&&c.email||"",I=T in b,C=""!==d,P=null!==(t=b[T])&&void 0!==t?t:"",E=Object(r.useSelector)(e=>e.viewer.id||""),k="conversation_share_suggestion"===c.type,R=k?(c.users||[]).filter(e=>e.id!==E):[],D=c.debug_reason&&c.debug_reason.readable_reason;let L="";"string"!=typeof c.full_name||c.full_name.match(/^\s*$/)?"string"!=typeof c.email||c.email.match(/^\s*$/)||(L=c.email):L=c.full_name;return m?Object(i.jsx)(l.e,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:Object(i.jsx)(O.a,{identifier:null!==(n=c.id)&&void 0!==n?n:c.email,onUndoHide:()=>f(!1),component:13029,element:11918,isGroupChat:R.length>1})}):Object(i.jsxs)(l.e,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[Object(i.jsx)(l.T,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),p(c)},children:Object(i.jsx)(l.i,{onMouseEnter:()=>{y(!(C||v&&I))},onMouseLeave:()=>y(!1),children:Object(i.jsxs)(l.e,{alignItems:"center",display:"flex",children:[Object(i.jsx)(l.e,{height:48,width:48,children:k?Object(i.jsx)(l.s,{collaborators:R.map(e=>({name:e.full_name||e.first_name,src:e.image_medium_url}))}):Object(i.jsx)(s.a,{accessibilityLabel:"",name:L,src:c.image_medium_url})}),Object(i.jsxs)(l.e,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"100%",children:[Object(i.jsxs)(l.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[Object(i.jsx)(l.e,{marginBottom:1,children:Object(i.jsx)(l.U,{color:"darkGray",truncate:!0,weight:"bold",children:k?R.map(e=>e.first_name||e.full_name).join(", "):L})}),C&&D?Object(i.jsx)(l.U,{color:"gray",size:"sm",children:D}):"string"==typeof c.username&&Object(i.jsx)(l.U,{color:"gray",size:"sm",children:c.username})]}),Object(i.jsxs)(l.e,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center",children:[g&&Object(i.jsx)(l.e,{display:"flex",marginEnd:2,children:Object(i.jsx)(_.a,{identifier:null!==(a=c.id)&&void 0!==a?a:c.email,onHide:()=>f(!0),component:13029,element:11917})}),Object(i.jsx)(x,{shouldShowViewChat:I,isSent:v,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:n}=e,i=d?1044:1039;Object(w.b)(101,{component:13029,element:i,entered_query:d,result_index:n+1,rs:null===(t=c.debug_reason)||void 0===t?void 0:t.reason})})(),S(!0),u(c),y(!1)},onViewConversation:()=>h(P)})]})]})]})})}),Object(i.jsx)(j.a.Consumer,{children:e=>{var t;return e?Object(i.jsx)(l.e,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:Object(i.jsx)(l.t,{color:"blue",size:"sm",children:null===(t=c.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}var S=n("ANjH"),T=n("ZdHo"),I=n("fhk9"),C=n("w70y");var P=Object(S.compose)(Object(C.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",options:{field_set_key:"default"},allowStale:!1}),Object(C.b)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:e=>({field_set_key:"default",term:e.value||"default"}),allowStale:!1}))((function(e){const{onChange:t,onSendMessage:n,onShowSendDraft:s,onShowImportContacts:c,sentHistory:d,value:u,shareSuggestionsResource:{isLoaded:p},shareSuggestionsTypeaheadResource:{isLoaded:b},paddingX:m}=e,f=Object(r.useSelector)(e=>e.social.shareSuggestions[u]||[]);Object(o.useEffect)(()=>{if(!u&&p){const e=f.length>0?7511:7512;Object(w.b)(e,{component:56,view:70,viewParameter:256})}},[p]);const j=Object(r.useDispatch)(),O=t=>{const{isFlyout:n,onHide:i}=e;!n&&i&&i(),(e=>{j(Object(T.e)(e))})(t),j(I.a)},_=f.map((e,t)=>{const o=`${t}-${u?"search":"suggestion"}`,r={item:e,idx:t,onSendMessage:n,onShowSendDraft:s,onViewConversation:O,sentHistory:d,textFieldValue:u};return Object(i.jsx)(v,{...r},o)}),y=0===f.length&&(""===u&&!p||""!==u&&!b);return Object(i.jsxs)(l.e,{children:[Object(i.jsx)(l.e,{display:"flex",paddingX:m,position:"relative",children:Object(i.jsx)(l.e,{"data-test-id":"sharesheet-search-user",width:"100%",children:Object(i.jsx)(l.K,{accessibilityLabel:a.a._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:t,placeholder:a.a._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:u})})}),Object(i.jsx)(l.e,{dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden",zIndex:1e3}},height:185,marginBottom:4,marginTop:2,children:Object(i.jsxs)(l.e,{paddingX:m,children:[Object(i.jsx)(l.e,{paddingY:y?2:0,children:Object(i.jsx)(l.O,{accessibilityLabel:a.a._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:y})}),Object(i.jsxs)(l.e,{children:[_,u&&Object(i.jsxs)(l.e,{children:[Object(i.jsx)(l.i,{children:Object(i.jsx)(g,{email:u,isSend:!0,isValid:Object(h.a)(u),onClick:()=>s({email:u,full_name:u}),showSendEmailText:!1})}),!y&&Object(i.jsx)(l.e,{width:"100%",children:Object(i.jsx)(l.i,{children:Object(i.jsx)(l.T,{onTap:c,children:Object(i.jsxs)(l.e,{alignItems:"center",direction:"row",display:"flex",children:[Object(i.jsx)(l.e,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:Object(i.jsx)(l.u,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})}),Object(i.jsx)(l.e,{paddingX:3,children:Object(i.jsx)(l.U,{weight:"bold",children:a.a._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list")})})]})})})})]})]})]})})]})})),E=n("d7ng"),k=n("ZtJp"),R=n("WM6B");var D=({text:e})=>Object(i.jsx)(l.U,{align:"center",size:"sm",children:Object(i.jsx)(R.a,{maxWidthPx:128,maxHeightPx:50,children:e})});var L=({iconSize:e,marginEnd:t,children:n})=>Object(i.jsx)(l.e,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24,children:n});const N=()=>n.e("clipboardLibrary").then(n.t.bind(null,"sxGJ",7));var B=({onClick:e,iconColor:t,iconSize:n,backgroundColor:r,invitePath:s})=>{const[c,d]=Object(o.useState)(!1),u=Object(o.useRef)(null);return Object(o.useEffect)(()=>{N().then(({default:e})=>{e.isSupported()&&(e=>{if(!u.current||!N)return;new e(u.current,{text:()=>s}).on("error",e=>{throw new Error("<ShareSocialBar /> error: copy command failed")})})(e)})},[s]),Object(i.jsx)(L,{iconSize:n,marginEnd:!1,children:Object(i.jsxs)(l.e,{ref:u,children:[Object(i.jsx)(l.T,{onTap:()=>{e(),d(!0),setTimeout(()=>{d(!1)},3e3)},children:Object(i.jsx)(l.e,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",children:Object(i.jsx)(k.a,{backgroundColor:r,iconColor:t,size:n})})}),Object(i.jsx)(D,{text:c?a.a._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"):a.a._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})]})})},A=n("SNfw"),U=n("K316"),M=n("TvzZ");function F({size:e=48,iconColor:t,backgroundColor:n,grayscale:o=!1}){const r=t||(o?"#333333":"#8E8E8E"),a=n||"#EFEFEF";return Object(i.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg",children:Object(i.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{fill:a,cx:"24",cy:"24",r:"24",stroke:"none"}),Object(i.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:r,children:[Object(i.jsx)("circle",{cx:"10",cy:"10",r:"6"}),Object(i.jsx)("circle",{cx:"17",cy:"3",r:"2"}),Object(i.jsx)("circle",{cx:"17",cy:"17",r:"2"}),Object(i.jsx)("circle",{cx:"19",cy:"10",r:"1"}),Object(i.jsx)("circle",{cx:"10",cy:"19",r:"1"}),Object(i.jsx)("circle",{cx:"1",cy:"10",r:"1"}),Object(i.jsx)("circle",{cx:"10",cy:"1",r:"1"}),Object(i.jsx)("circle",{cx:"3",cy:"17",r:"2"}),Object(i.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}var H=n("v/Q4");function G({sharedObject:e,onCreatePincodeClick:t,iconColor:n,iconSize:o,backgroundColor:r}){const s=Object(H.a)();return t&&[c.a.BOARD,c.a.PINNER,c.a.USER].includes(e.type)&&s.isAuth&&(e.id===s.id||s.isEmployee)?Object(i.jsxs)(L,{iconSize:o,marginEnd:!0,children:[Object(i.jsx)(l.T,{fullWidth:!1,onTap:t,children:Object(i.jsx)(F,{backgroundColor:r,iconColor:n,size:o})}),Object(i.jsx)(D,{text:a.a._("Pincode","Share via pincode","Share via pincode")})]},"pincode"):null}var V=n("mBfy"),z=n("udob");const W="#EFEFEF",q="#333333";function Y({size:e=48,grayscale:t=!1}){const n=t?q:"#FFFFFF",o=t?W:"#1877f2";return Object(i.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,children:[Object(i.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),Object(i.jsxs)("g",{id:"surface1",children:[Object(i.jsx)("path",{style:{fill:o,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),Object(i.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function K({size:e=48,grayscale:t=!1}){const n=t?q:"#FFFFFF",o=t?W:"#0DC2FF";return Object(i.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(i.jsxs)("g",{id:"surface1",children:[Object(i.jsx)("path",{style:{fill:o,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),Object(i.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function X({size:e=48,grayscale:t=!1}){const n=t?q:"#FFFFFF",o=t?W:"#25d366";return Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1",children:Object(i.jsxs)("g",{id:"surface1",children:[Object(i.jsx)("path",{style:{fill:o,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),Object(i.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}var $=n("nGHF");function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const J=48,Q="#111111",ee="#EFEFEF",te={backgroundColor:"#ffffff",border:"none",padding:0},ne=e=>{Object(M.default)(t=>{t&&(t.getUserID()?e():t.login(()=>{e()}))},U.a)};class ie extends o.Component{constructor(...e){super(...e),Z(this,"state",{invitePath:"",whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),Z(this,"mounted",!1),Z(this,"logShareInviteLink",()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(z.a.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))}),Z(this,"createShareInviteLink",()=>{const e=this.getShareOptions(12),{inviteData:t}=this.state;t||z.a.createShareInviteData(e).then(e=>{const t=e.invite_url;t?this.setState({invitePath:t,inviteData:e}):this.setState({inviteData:e})})}),Z(this,"selectText",e=>{e.target.select()})}componentDidMount(){this.mounted=!0,this.getWhatsAppURL(),this.createShareInviteLink()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case c.a.BOARD:return a.a._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case c.a.PIN:return a.a._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case c.a.PINNER:return a.a._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);z.a.createShareInviteData(e).then(e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+Object(E.a)(this.props.sharedObject.url)})})}checkWritePermissions(){return!!V.default.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e&&(this.openEmailDialog(),t=258),this.props.onExternalSend&&this.props.onExternalSend(),Object(w.b)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){ne(()=>{z.a.shareFacebookInvite(this.getShareOptions(5))})}openFbMessengerDialog(){ne(()=>{z.a.shareFbMessengerInvite(this.getShareOptions(6))})}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(z.a.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){z.a.shareTwitterInvite(this.getShareOptions(9))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t}=this.props;return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsxs)(l.e,{display:"flex",justifyContent:"around",children:[Object(i.jsxs)(L,{iconSize:J,marginEnd:!0,children:[Object(i.jsx)("button",{"aria-label":a.a._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:te,tabIndex:"-1",children:Object(i.jsx)("a",{href:this.state.whatsappURL,rel:"noopener noreferrer",target:"_blank",children:Object(i.jsx)(X,{size:J})})}),Object(i.jsx)(D,{text:a.a._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})]}),Object(i.jsxs)(L,{iconSize:J,marginEnd:!0,children:[Object(i.jsx)("button",{"aria-label":a.a._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:te,children:Object(i.jsx)(Y,{size:J})}),Object(i.jsx)(D,{text:a.a._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})]}),Object(i.jsxs)(L,{iconSize:J,marginEnd:!0,children:[Object(i.jsx)("button",{"aria-label":a.a._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:te,children:Object(i.jsx)(K,{size:J})}),Object(i.jsx)(D,{text:a.a._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})]}),Object(i.jsx)(L,{iconSize:J,marginEnd:!1,children:this.renderEmail()})]}),Object(i.jsxs)(l.e,{display:"flex",paddingY:4,children:[Object(i.jsx)(G,{backgroundColor:ee,iconColor:Q,iconSize:J,onCreatePincodeClick:t,sharedObject:e}),Object(i.jsx)(B,{backgroundColor:ee,iconColor:Q,iconSize:J,invitePath:this.state.invitePath,onClick:()=>this.handleSocialShareClick("copylink")},"copylink")]})]})}renderEmail(){return Object(i.jsxs)(L,{iconSize:J,marginEnd:!1,children:[Object(i.jsx)(l.e,{display:"inlineBlock",children:Object(i.jsx)("button",{"aria-label":a.a._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:te,children:Object(i.jsx)(A.a,{backgroundColor:ee,iconColor:Q,size:J})})}),Object(i.jsx)(D,{text:a.a._("Email","Share via email","Share via email")})]},"email")}render(){const{sharedObject:e,paddingX:t}=this.props;return Object(i.jsxs)(l.e,{paddingX:t,children:[Object(i.jsx)(l.e,{alignContent:"center",alignItems:"center",display:"flex",height:64,justifyContent:"center",children:Object(i.jsx)(l.U,{size:"lg",weight:"bold",children:this.getSendDisplayText(e.type)})}),Object(i.jsx)(l.e,{paddingX:2,children:this.renderShareOptions()})]})}}var oe=Object(S.compose)(Object(r.connect)(({viewer:e})=>({viewer:e}),()=>({})),$.c)(ie),re=n("7w6Q"),ae=n("eOdZ"),se=n("M1Uz");function ce(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var le=n("ENhS");const de=(e,t)=>{const n={};return e.forEach(e=>{n[e]=t}),n};var ue=Object(r.connect)(null,e=>({createConversation:t=>e(Object(T.b)(t)),sendMessage:t=>e(t)}))((function(e){const[t,n]=Object(o.useState)(!1),[r,s]=Object(o.useState)(null),[c,d]=Object(o.useState)({}),[u,h]=Object(o.useState)(""),[b]=Object(o.useState)((e=>"today_article"===e?a.a._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType)),{showOneToast:f}=Object($.b)(),{surface:g}=Object(le.b)(),j=(t,i)=>{n(!1),e.onMessageSent(),((t,n)=>{const{sharedObject:i}=e,o=i.id;re.a.increment("web.sharesheet.internal.send",1,{status:"success"}),Object(w.b)(180,{element:276,objectId:o,conversation_id:t,pin_id:n})})(t,i)},O=e=>{re.a.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&f(({onHide:e})=>Object(i.jsx)(se.a,{color:"red",duration:5e3,onHide:e,text:t}))},_=async(t,n,i)=>{const{createConversation:o,sharedObject:r,sendType:a}=e,s=r.id,l={emails:n,user_ids:t,text:i,source:ce(g)};l[a]=s;const u=ae.a.create("ConversationsResource",l);try{const e=await u.callCreate(),i=e&&e.resource_response.data;o(i),j(i.id,"pin"===a?s:null),t.length>0?d({...c,...de(t,i.id)}):d({...c,...de(n,i.id)})}catch(p){O(p)}},y=(t,n)=>{"conversation_share_suggestion"===t.type?((t,n,i)=>{const{sendMessage:o,sharedObject:r,sendType:a}=e;let s;switch(a){case"pin":s="pinId";break;case"board":s="boardId";break;case"did_it":s="didItId";break;case"user":case"pinner":s="userId"}const l=s?Object(T.g)(t,{text:n,[s]:r.id,source:ce(g)}):void 0;l&&(o(l),l.getPromise().then(()=>{j(t,"pin"===a?r.id:null),d({...c,[t]:t})}).catch(e=>{O(e)}))})(t.id,n):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?_([],[t.email],n):_([t.id],[],n),Object(w.b)(101,{component:56,element:276})},x=()=>{n(!1),s(null)},{onCreatePincodeClick:v,onShowImport:S,sendType:I,sharedObject:C,isFlyout:E,onHide:k,onExternalSend:R}=e,D="email"===r?Object(i.jsx)(m,{initialTextValue:b,isFlyout:E,objectId:C.id,objectType:I,onCancelDraft:x,onHide:k,onSendMessage:y}):Object(i.jsx)(p,{initialTextValue:b,isFlyout:E,objectId:C.id,objectType:I,onCancelDraft:x,onHide:k,onSendMessage:y,recipient:"object"==typeof r?r:void 0});return t?D:Object(i.jsxs)(l.e,{color:"white",children:[Object(i.jsx)(oe,{onCreatePincodeClick:v,onEmailIconClick:()=>{n(!0),s("email")},onExternalSend:R,onHide:k,paddingX:4,sharedObject:C}),Object(i.jsx)(l.e,{children:Object(i.jsx)(P,{isFlyout:E,onChange:({value:e})=>{h(e),Object(w.b)(4113,{component:13029,element:1043})},onHide:k,onSendMessage:y,onShowImportContacts:S,onShowSendDraft:e=>{n(!0),s(e)},paddingX:4,sentHistory:c,value:u})})]})})),pe=n("TSYQ"),he=n.n(pe),be=n("+zF7");const me=["facebook","google"];function fe(e){return"facebook"===e?a.a._("Facebook"):"twitter"===e?a.a._("Twitter"):"google"===e?a.a._("Google"):a.a._("Other")}function ge(e){const t=he()("sendShare",e.network),n=(o=e.network,r=e.email,"facebook"===o?a.a._("Friends who are on Pinterest"):"google"===o&&r&&-1!==r.indexOf("@gmail")?r:null);var o,r;return Object(i.jsx)("a",{onClick:e.onClick,role:"button",children:Object(i.jsxs)("div",{className:t,children:[Object(i.jsx)("em",{className:"icon"}),Object(i.jsxs)("div",{className:"networkInfo",children:[Object(i.jsx)("h4",{className:"title",children:fe(e.network)}),n?Object(i.jsx)("div",{className:"subtitle",children:n}):null]})]})})}function je({onBack:e}){const t=Object(H.a)(),n=t.isAuth?t.email:null,o=me.filter(e=>!t.isAuth||!1===t.socialNetwork[e].connected);return Object(i.jsxs)("div",{className:"SocialConnectPanel sendShare",children:[Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)("div",{className:"backNav",children:Object(i.jsxs)("a",{onClick:e,role:"button",children:[Object(i.jsx)("span",{className:"icon"}),Object(i.jsx)("span",{className:"label",children:a.a._("Back")})]})}),Object(i.jsx)("div",{className:"prompt",children:a.a._("Upload contacts from...")})]}),Object(i.jsx)("ul",{className:"socialConnectOptions",children:o.map(e=>Object(i.jsx)("li",{style:{borderLeft:"none"},children:Object(i.jsx)(ge,{email:n,network:e,onClick:()=>function(e){be.a.instance().handleConnect(e,!0,{})}(e)})},e))})]})}function Oe({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:n,onExternalSend:r,onHide:a,sendType:s,sharedObject:c,viewType:d,viewParameter:u}){const[p,h]=Object(o.useState)(!1),[b,m]=Object(o.useState)(!1);Object(o.useEffect)(()=>(Object(w.b)(7120,{objectId:c.id,view:d,viewParameter:u}),()=>{Object(w.b)(7121,{objectId:c.id,view:d,viewParameter:u});const e=b?7493:7492;Object(w.b)(e,{view:d,viewParameter:u})}),[]);const f=()=>{h(!0)},g=()=>{h(!1)},j=()=>{m(!0)};return p?(()=>{const e=t?"Module SendObjectBase sendShare":"";return Object(i.jsx)("div",{className:e,children:Object(i.jsx)(je,{onBack:g})})})():Object(i.jsx)(l.e,{overflow:"hidden",children:Object(i.jsx)(ue,{isFlyout:t,onCreatePincodeClick:n,onHide:a,onShowImport:f,onMessageSent:j,onExternalSend:r,sendType:s,sharedObject:c})})}},"h9/w":function(e,t,n){n.d(t,"a",(function(){return g}));var i=n("nKUr"),o=n("q1tI"),r=n("Ye/N"),a=n("M1Uz"),s=n("n6mq");function c(e){const{onHide:t}=e,n=Object(i.jsx)(s.U,{children:r.a._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return Object(i.jsx)(a.a,{onHide:t,text:n})}var l=n("eOdZ"),d=n("v/Q4"),u=n("nGHF");var p=function({anchor:e,onDismiss:t,pinId:n,signals:a}){const[p,h]=Object(o.useState)(0),b=Object(d.a)(),{showOneToast:m}=Object(u.b)();if(!b.isEmployee)return null;const f=a.map(({signal_message:e})=>({href:"#",text:e})),{background_color:g,icon_url:j,signal_id:O,signal_message:_}=a[p];return Object(i.jsx)(s.y,{children:Object(i.jsx)(s.r,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:Object(i.jsxs)(s.e,{padding:4,width:"100%",children:[a.length>1&&Object(i.jsx)(s.e,{overflow:"scrollX",padding:1,marginBottom:4,children:Object(i.jsx)(s.S,{activeTabIndex:p,onChange:({activeTabIndex:e,event:t})=>{t.preventDefault(),h(e)},size:"lg",tabs:f})}),Object(i.jsx)(s.e,{display:"flex",alignItems:"center",children:Object(i.jsx)(s.t,{size:"sm",children:r.a._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),Object(i.jsx)(s.e,{paddingY:3,children:Object(i.jsxs)(s.q,{alignItems:"center",gap:2,justifyContent:"center",children:[Object(i.jsx)(s.e,{height:40,overflow:"hidden",rounding:"circle",width:40,children:j?Object(i.jsx)(s.w,{alt:r.a._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:j}):Object(i.jsx)(s.e,{dangerouslySetInlineStyle:{__style:{backgroundColor:g}},height:40,width:40})}),Object(i.jsx)(s.U,{size:"md",children:_})]})}),Object(i.jsx)(s.e,{marginBottom:3,children:Object(i.jsx)(s.U,{size:"md",children:r.a._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),Object(i.jsxs)(s.q,{alignItems:"center",gap:2,justifyContent:"start",children:[Object(i.jsx)(s.f,{color:"red",size:"md",text:r.a._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:O,user:b.id};l.a.create("SignalReviewRequestResource",e).callCreate(),t(),m(({onHide:e})=>Object(i.jsx)(c,{onHide:e}))}}),Object(i.jsx)(s.f,{color:"gray",size:"md",text:r.a._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})]})]})})})},h=n("7pfs"),b=n("jkxn"),m=n("rYoy");function f({signals:e,pinId:t}){const{background_color:n,icon_url:r,signal_message:a}=e[0],[c,l]=Object(o.useState)(!1),d=Object(o.useRef)();return Object(i.jsxs)(o.Fragment,{children:[Object(i.jsx)(m.a,{children:Object(i.jsx)(s.e,{"data-test-id":"debug-signals-feedback-button",children:Object(b.a)(Object(i.jsx)(h.a,{children:({hovered:e,onMouseEnter:t,onMouseLeave:o})=>Object(i.jsx)(s.T,{onTap:()=>l(e=>!e),rounding:"pill",onMouseEnter:t,onMouseLeave:o,children:Object(i.jsxs)(s.e,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:d,children:[Object(i.jsx)(s.e,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:Object(i.jsx)(s.e,{width:20,height:20,rounding:"circle",overflow:"hidden",children:Object(i.jsx)(s.w,{alt:"",color:n,src:r,naturalHeight:1,naturalWidth:1})})}),Object(i.jsx)(s.U,{color:"white",size:"md",weight:"bold",children:a})]})})}))})}),c&&d&&d.current&&Object(i.jsx)(p,{anchor:d.current,onDismiss:()=>l(!1),pinId:t,signals:e})]})}function g({pin:e}){if(!Object(d.a)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:o,deb_inclusive_product:r,deb_shopping:a,deb_trust_and_safety:s}=e;return n?Object(i.jsx)(f,{pinId:t,signals:n}):o?Object(i.jsx)(f,{pinId:t,signals:o}):r?Object(i.jsx)(f,{pinId:t,signals:r}):a?Object(i.jsx)(f,{pinId:t,signals:a}):s?Object(i.jsx)(f,{pinId:t,signals:s}):null}},idmN:function(e,t,n){var i=n("ZWtO"),o=n("FZoo"),r=n("4uTw");e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var l=t[a],d=i(e,l);n(d,l)&&o(c,r(l,e),d)}return c}},jCsw:function(e,t,n){function i(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",(function(){return i}))},jOPH:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/thanks-62775475.svg"},jkxn:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("nKUr");function o(e){return Object(i.jsx)("div",{"data-test-id":"pointer-events-wrapper",style:{pointerEvents:"auto"},children:e})}},jmst:function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("i8i4"),a=n.n(r);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new Map;let l=null;const d=e=>{e.forEach(e=>{const t=c.get(e.target);t&&t(e)})};t.a=e=>{class t extends o.Component{constructor(...e){super(...e),s(this,"seen",!1),s(this,"flushTimeout",null),s(this,"enter",e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),s(this,"leave",()=>{const e=this._node;e&&(e=>c.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),s(this,"observe",e=>{try{this._node=a.a.findDOMNode(this)}catch(i){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,n=this._node;((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(d,i),c.set(e,n),l.observe(e)})(n,e,e=>{if(!c.has(n))return;const i=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,o=this.props.trackFullVisible?e.intersectionRatio>=1:i,r=this.props.trackFullVisible?0===e.intersectionRatio:!o;!this.seen&&o?this.enter(e):this.seen&&r&&this.leave()})})}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{l.unobserve(e),c.delete(e)})(e))}render(){return Object(i.jsx)(e,{...this.props})}}return s(t,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),t}},kVqD:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("q1tI"),o=n("U4JR"),r=n("gD/Z");function a(e,t){const{componentType:n,contextLogData:a,viewParameter:s,viewType:c}=Object(r.b)();return Object(i.useCallback)(()=>{Object(o.b)(e,{component:n,view:c,viewParameter:s,...a,...t||{}})},[t,n,a,e,s,c])}},"mVz+":function(e,t,n){n.d(t,"k",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"m",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"o",(function(){return g}));const i=171,o=85,r=40,a=20,s=4,c=106,l=133,d=16,u=5,p=1.25,h=.1,b=10,m=246,f=197,g=236},oRao:function(e,t,n){var i=n("nKUr"),o=n("XRfM"),r=n("pLLR");t.a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:a,shortformMaximumFractionDigits:s,formatStyle:c,uplimit:l,value:d})=>Object(i.jsx)(r.b,{children:i=>Object(o.e)(i.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:a,shortform_maximum_fraction_digits:s,style:c,uplimit:l})})},oVol:function(e,t,n){n.d(t,"a",(function(){return i}));const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}},obIb:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/goodIdea-b770896d.svg"},pSsd:function(e,t,n){n.d(t,"a",(function(){return i}));const i="favorited"},pf20:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n("F4HH");const{Provider:o,useHook:r}=Object(i.a)({name:"story_pin_step",v2LoggerMetricName:701,sampleRate:1}),a=o,s=r},ptXI:function(e,t,n){n.d(t,"a",(function(){return h}));var i=n("nKUr"),o=n("q1tI"),r=n("Ye/N"),a=n("7w6Q"),s=n("fepT"),c=n("U4JR"),l=(n("CgR/"),n("n6mq"));function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},p={overlay:{__style:{backgroundColor:"#000"}}};class h extends o.PureComponent{constructor(...e){super(...e),d(this,"setSendButton",e=>{this.sendButton=e}),d(this,"handleRestartVideo",({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),a.a.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})}),d(this,"handleShareVideo",()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n}=this.props;e&&e(),t&&a.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),Object(c.b)(101,{component:179,objectId:n,view:3,viewParameter:156,element:11731})}),d(this,"handleExternalSend",()=>{a.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})}),d(this,"renderReplayButton",()=>Object(i.jsx)(l.T,{onTap:this.handleRestartVideo,rounding:2,children:Object(i.jsxs)(l.e,{alignItems:"center",display:"flex",padding:2,children:[Object(i.jsx)(l.u,{accessibilityLabel:r.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:30}),Object(i.jsx)(l.e,{margin:1}),Object(i.jsx)(l.t,{color:"white",overflow:"normal",size:"sm",children:r.a._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})),d(this,"renderShareButton",()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:o,pinId:a}=this.props;return Object(i.jsxs)(l.e,{alignItems:"center",display:"flex",padding:2,children:[Object(i.jsx)(s.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:n,onExternalSend:this.handleExternalSend,onFlyoutDismiss:o,onToggleFlyout:this.handleShareVideo,pinId:a,sendType:"pin",shareButtonRef:this.setSendButton,shownWithinMasonry:!0,iconOnly:!0}),Object(i.jsx)(l.e,{margin:1}),Object(i.jsx)(l.T,{onTap:this.handleShareVideo,rounding:2,children:Object(i.jsx)(l.t,{color:"white",overflow:"normal",size:"sm",children:r.a._("Send","end.video.send.icon.label","Clickable label when pressed opens share sheet after video is finished")})})]})})}componentDidMount(){const{pinId:e}=this.props;a.a.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),Object(c.b)(13,{component:179,objectId:e,view:3,viewParameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:o}=this.props;return Object(i.jsx)(l.e,{children:Object(i.jsxs)(l.w,{alt:o||"",naturalHeight:t,naturalWidth:n,src:e,children:[Object(i.jsx)(l.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:p.overlay}),Object(i.jsx)(l.e,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:Object(i.jsxs)(l.e,{alignItems:"center",justifyContent:"center",position:"absolute",direction:"column",children:[Object(i.jsx)(l.e,{children:this.renderShareButton()}),Object(i.jsx)(l.e,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}t.b=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:o,pinTitle:a})=>Object(i.jsx)(l.e,{children:Object(i.jsxs)(l.w,{alt:a||"",naturalHeight:t,naturalWidth:n,src:e,children:[Object(i.jsx)(l.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:p.overlay}),Object(i.jsx)(l.e,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:Object(i.jsx)(l.e,{children:Object(i.jsx)(l.T,{onTap:o,rounding:2,children:Object(i.jsxs)(l.e,{alignItems:"center",display:"flex",padding:2,children:[Object(i.jsx)(l.u,{accessibilityLabel:r.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:30}),Object(i.jsx)(l.e,{margin:1}),Object(i.jsx)(l.t,{color:"white",overflow:"normal",size:"sm",children:r.a._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})})})]})})},qAg2:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("Ye/N"),o=n("qpbZ");function r(e){const{alt_text:t,auto_alt_text:n}=e;return t?Object(o.b)(i.a._("This contains: {{ altText }}","web.altText","Alt text input by a human"),{altText:t}).join(""):n?Object(o.b)(i.a._("This may contain: {{ autoAltText }}","web.altText","Alt text generated by a computer"),{autoAltText:n}).join(""):null}},qhFy:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("nKUr"),o=n("VJm5"),r=n("TSYQ"),a=n.n(r),s=n("qAg2"),c=n("RwJG"),l=n("n6mq");function d({onError:e,onLoad:t,pin:n}){const{title:o="",dominant_color:r,images:a={}}=n,s=a["474x"].width>a["474x"].height?a["736x"]:a["474x"];return Object(i.jsx)(l.e,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"177.77777777777777%"}},children:Object(i.jsx)(l.e,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:c.a.storyPinImage}},children:Object(i.jsx)(l.w,{alt:o,color:r,naturalHeight:s.height,naturalWidth:s.width,onError:e,onLoad:t,src:s.url,fit:"cover"})})})}const u=120;t.b=({cropHeight:e,cropWidth:t,fallbackColor:n,highResOnly:r,imageFit:c,lowResOnly:p,mediumResOnly:h,onError:b,onLoad:m,pin:f,saved:g=!1,animateGif:j})=>{const{carousel_data:O,description:_="",dominant_color:y,id:x,images:w}=f,v=Object(s.a)(f)||_;if(O)return Object(i.jsx)(o.a,{onError:b,onLoad:m,highResOnly:r,lowResOnly:p,pinId:x});let S,T="",I=0,C=0;if(w){let e=w["236x"];r?e=w["736x"]||w.orig||w["474x"]||w["236x"]:h&&(e=w["474x"]||w.orig||w["236x"]),I=e.height,C=e.width,T=e.url,S=p||h||r?e.url+" 1x":[w["236x"].url+" 1x",w["474x"]&&w["474x"].url+" 2x",w["736x"]&&w["736x"].url+" 3x",w.orig&&w.orig.url+" 4x"].filter(Boolean).join(", ")}if(j){const e=Math.max(f.embed&&f.embed.width||0,236),t=Math.max(f.embed&&f.embed.height||0,236),n=f.embed?f.embed.src:"";n&&(I=t,C=e,T=n,S="")}return Object(i.jsx)(l.e,{minHeight:u,display:"flex",alignItems:"center",children:Object(i.jsx)(l.e,{flex:"grow",children:Object(i.jsx)("div",{className:a()({savedGradient:g}),children:f.story_pin_data_id?Object(i.jsx)(d,{pin:f,onError:b,onLoad:m}):Object(i.jsx)(l.e,{height:t?e:void 0,width:t||void 0,"data-test-id":"non-story-pin-image",children:Object(i.jsx)(l.w,{alt:v,color:"dominant"===n?y:n,fit:c,naturalHeight:I,naturalWidth:C,onError:b,onLoad:m,src:T,srcSet:S})})})})})}},rSLd:function(e,t,n){n.r(t),n.d(t,"default",(function(){return u}));var i=n("nKUr"),o=n("/MKj"),r=n("XSD5"),a=n("ZbwW"),s=n("0nTG"),c=n("U4JR"),l=n("4cTg"),d=n("n6mq");function u({carouselData:e,carouselIndex:t,componentType:n,contextLogData:u,handleCarouselSwipe:p,isCloseup:h,isEditMode:b,pinId:m,viewParameter:f,viewType:g,variant:j}){const O=Object(o.useSelector)(({pins:e})=>e[m],o.shallowEqual),_=e||Object(a.a)(O),y=Object(o.useDispatch)();if(!_)return null;const x=(e,t,i)=>{b||void 0===r.a||(e.preventDefault(),e.stopPropagation(),y(Object(r.a)(String(m),i))),void 0!==p&&p(i),((e,t,n,i,o,r,a,l,d,u)=>{if(!u){const{carousel_slots:u,id:p}=o;Object(c.b)(108,{...d,objectId:t,component:l,view:a,viewParameter:r,eventData:{pinCarouselSlotEventData:{carouselSlotId:u[n]&&Number(u[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:i}},...Object(s.f)(e)||{}})}})(O,m,t,i,_,f,g,n,u,b)},{carousel_slots:w=[],index:v}=_,S=void 0!==t?t:v,T="default"===j,I=T?"white":"#555",C=T?"rgba(255, 255, 255, 0.5)":"lightGray";return Object(i.jsx)(l.b.Consumer,{children:({viewportSize:e})=>"sm"===e?null:Object(i.jsx)(d.e,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:h?"end":"center",paddingY:b?1:0,children:[...Array(w.length).keys()].map(e=>Object(i.jsx)(d.e,{paddingX:1,children:Object(i.jsx)(d.T,{accessibilityLabel:w[e].title,fullWidth:!1,onTap:({event:t})=>x(t,S,e),rounding:"circle",children:Object(i.jsx)(d.e,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===S?I:C}},rounding:"circle"})})},m+e))})})}},rsy7:function(e,t,n){function i(e){var t;return((((null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[])[0]||{}).label_info||{}).labels||[]}n.d(t,"a",(function(){return i}))},sztL:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("nKUr"),o=n("q1tI"),r=n("Nle8"),a=n("eOdZ"),s=n("0nTG"),c=n("U4JR"),l=n("Y8Sn"),d=n("7jH2");function u({children:e,hovered:t,pin:n,slotIndex:u,trafficSource:p,viewType:h}){const[b,m]=Object(o.useState)(),[f,g]=Object(o.useState)(),{id:j,tracked_link:O,link:_}=n,y=O||_||"",x=()=>{m(!0)},w=Object(d.d)(Object(d.p)({pin:n})),v=Object(o.useCallback)(()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:Object(r.a)(e.id),aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:j,...u||{},...Object(s.f)(e)||{}})};return a.a.create("OffsiteLinkResource",i)})(n,y,!1).callGet({showError:!1}).then(e=>{e&&(Object(c.b)(12,{clickthrough_type:"rightClick",objectId:j,view:h,viewParameter:w,...u||{},...Object(s.f)(n)||{}}),Object(l.e)()&&Object(c.b)(8948,{click_type:"clickthrough",closeup_navigation_type:p&&Object(l.l)(p)?"deeplink":"click",clickthrough_type:"rightClick",view:h,objectId:j,viewParameter:w,...u||{},...Object(s.f)(n)||{}}))})}),S=()=>{b&&(v(),m(!1),window.removeEventListener(f,S,!1))};return Object(o.useEffect)(()=>{var e,t,n,i,o,r;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?g("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?g("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&g("webkitvisibilitychange")},[]),Object(o.useEffect)(()=>(b&&window&&window.addEventListener(f,S,!1),()=>window.removeEventListener(f,S)),[b,f]),Object(o.useEffect)(()=>(t&&window.addEventListener("contextmenu",x),()=>{window.removeEventListener("contextmenu",x)}),[t]),Object(i.jsx)(o.Fragment,{children:e})}},tMjw:function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b}));var i=n("nKUr"),o=n("I7CA"),r=n("vcEN"),a=n("Ye/N"),s=n("n6mq");const c="#000000",l="#ffffff";function d({selected:e=!1}){return Object(i.jsx)(s.e,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?c:l,borderRadius:u,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}},children:e?Object(i.jsx)(s.e,{position:"absolute",bottom:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:Object(i.jsx)(s.u,{accessibilityLabel:a.a._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):Object(i.jsx)(s.e,{position:"absolute",top:!0,right:!0,margin:3,children:Object(i.jsx)(s.u,{accessibilityLabel:a.a._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const u=16,p=4,h={wrapper:{borderRadius:u,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"},savedOverlay:{backgroundColor:"rgba(0, 0, 0, 0.33)"},legoWashOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function b({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",primaryContent:a,primaryContentVisibility:c="none",secondaryContent:l,secondaryContentVisibility:u="none",accessoryContent:p,accessoryContentVisibility:b="none",actionBar:m,actionBarVisibility:f="none",footer:g,selectionState:j="no-selection",debugContent:O,signalDebuggerContent:_,signalDebuggerV2Content:y,signalDebuggerV2ContentVisibility:x="none",obscuredPinOverlay:w,showNoPinBorderRadius:v,showPromotedPinBorderTreatment:S,shouldUseLegoWash:T}){return Object(i.jsx)(s.e,{dangerouslySetInlineStyle:{__style:S?h.promotedPinBorderTreatment:{}},children:Object(i.jsxs)(s.e,{dangerouslySetInlineStyle:{__style:v?{}:h.wrapper},"data-test-id":"pinWrapper",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(j)&&Object(i.jsx)(d,{selected:"selected"===j}),Object(i.jsxs)(s.e,{dangerouslySetInlineStyle:{__style:v?{}:h.wrapper},overflow:"hidden",position:"relative",children:[e,Object(i.jsx)(r.a,{visibility:n,children:Object(i.jsx)(o.a,{additionalStyles:h.visualOverlay})}),Object(i.jsx)(r.a,{visibility:t,children:Object(i.jsx)(o.a,{additionalStyles:T?h.legoWashOverlay:h.savedOverlay})}),p&&Object(i.jsx)(r.a,{visibility:b,children:Object(i.jsx)(o.a,{children:p})}),l&&Object(i.jsx)(r.a,{visibility:u,children:Object(i.jsx)(o.a,{children:l})}),a&&Object(i.jsx)(r.a,{visibility:c,children:Object(i.jsx)(o.a,{additionalStyles:T?h.legoWashOverlay:void 0,children:a})}),y&&Object(i.jsx)(r.a,{visibility:x,children:Object(i.jsx)(o.a,{children:Object(i.jsx)(s.e,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:y})})}),m&&Object(i.jsx)(r.a,{visibility:f,children:Object(i.jsx)(o.a,{children:Object(i.jsx)(s.e,{position:"absolute",left:!0,right:!0,bottom:!0,children:m})})}),O&&Object(i.jsx)(o.a,{children:O}),_]}),g,w&&Object(i.jsx)(s.e,{children:w})]})})}},tuD4:function(e,t,n){function i(e){const t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some(e=>e.pin_type===t)}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},udob:function(e,t,n){var i=n("LqyK"),o=n("eOdZ"),r=n("d7ng"),a=n("4dcN"),s=n("zwad"),c=n("mBfy");const l={};l.open=function(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)},l.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t?t.scrollWidth-t.clientWidth:0,i=t?t.scrollHeight-t.clientHeight:0;e&&(n=Math.max(n,0),i=Math.max(i,0)),c.default.isAuthenticated()||(i=340),window.resizeBy(n,i)}(!1)};var d=l;const u={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";a.a.trackEvent(t,"click");const n=u._getWindowUrl(e.tweet_path,e.tweet_text);d.open(n,u.DIALOG_WIDTH,u.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>s.a.appendQueryString("https://twitter.com/intent/tweet",{via:"pinterest",url:e?Object(r.a)(e):void 0,text:t||void 0})};var p=u;const h={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),i=e.invite_channel,r=null==e.invite_category?3:e.invite_category,a=e.object_id;return o.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:r,invite_object:n,invite_channel:i},invite_code:t,object_id:a}).callCreate()},createAndLogShareInvite:e=>h.createShareInviteData(e).then(t=>(h._logShareInvite(e,t.invite_code),Promise.resolve(t)),e=>Promise.reject(e)),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,i=null==e.invite_category?3:e.invite_category,r=e.object_id;return o.a.create("CreateExternalInviteResource",{invite_type:{invite_category:i,invite_object:t,invite_channel:n},object_id:r}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))},logShareInvite(e,t){t&&h._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>h.createShareInviteData(e).then(t=>{const n=t.invite_url,o=t.invite_code;return n&&i.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&h._logShareInvite(e,o)}}),Promise.resolve(t)},e=>Promise.reject(e)),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return h.createShareInviteData(e).then(n=>{const i=n.invite_url,o=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),i&&p.openDialog({tweet_path:i,tweet_text:r}),h._logShareInvite(e,o),Promise.resolve(n)},e=>Promise.reject(e))},shareFbMessengerInvite:e=>h.createShareInviteData(e).then(t=>{const n=t.invite_url,o=t.invite_code;return n&&i.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&h._logShareInvite(e,o)}}),Promise.resolve(t)},e=>Promise.reject(e))};t.a=h},uhAL:function(e,t,n){function i(e,t,n){return Object.keys(e).reduce((n,i)=>n+Math.abs(e[i]-t[i]),0)<=n}function o({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:o,scaledHeight:r}){return{x:e/o,y:t/r,w:n/o,h:i/r}}function r({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:o,scaledHeight:r}){return{h:Math.floor(i*r),w:Math.floor(n*o),x:Math.floor(e*o),y:Math.floor(t*r)}}function a({cropArea:{x:e,y:t,w:n,h:i},cropSource:o,searchQuery:r,entrySource:a,trafficSource:s}){const c=[];e>=0&&t>=0&&n>=0&&i>=0&&c.push("x="+e,"y="+t,"w="+n,"h="+i),o&&c.push("cropSource="+o),a&&c.push("entrySource="+a),r&&c.push("q="+r),s&&"unknown"!==s&&c.push("rs="+s);return c.length?"?"+c.join("&"):""}function s({cropArea:e,cropSource:t,entrySource:n,isUnified:i,pinId:o,searchQuery:r,trafficSource:s,view:c}){return`/pin/${o}/${i?"related-products":"visual-search"}/${i||"products"!==c?"":"products/"}${a({cropArea:e,cropSource:t,entrySource:n,trafficSource:s,searchQuery:r})}`}function c(e){return e.filter(e=>e.is_stela)}function l(e){return e.filter(e=>!!e.label)}n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return i}))},vcEN:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("nKUr"),o=n("n6mq"),r=n("XLg/");function a(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:t=0,fadeOutDuration:n=r.a,visibility:s}){return"none"!==s&&e?Object(i.jsx)(o.e,{dangerouslySetInlineStyle:{__style:a(t,n)[s]},children:e}):null}},vpxy:function(e,t,n){var i=n("nKUr"),o=n("q1tI"),r=n("/MKj"),a=n("9WJf"),s=n("ynlw"),c=n("078/");function l({isGroupBoard:e,pin:t,surface:n}){const{buyable_product:i,carousel_data:o,grid_title:r,rich_summary:a,title:l}=t,{isOwnPin:d,isPromoted:u}=Object(s.a)(t);if(o){const{carousel_slots:e=[],index:t}=o;if(e[t]&&e[t].title)return e[t].title.trim()}if(u){if(c.a.includes(n))return r||"";if(d&&!e&&!o&&"UserProfilePinGrid"!==n)return"";const t=a&&"mobile application"!==a.type_name&&a.display_name,s=i&&i.title;return l||t||s||r||""}return r||""}const d=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=n("JW66");var p=n("QLqj"),h=n("XPo3"),b=n("mVz+");function m({hasCarouselData:e,isDenseView:t,isPromoted:n,isSocialSeasonalBoard:i,pinImageCrop:o,pinImageFit:r,resolution:a,showPromotedVideos:s,surface:c}){let l="backend";"CloseupRelatedProducts"===c?l={height:b.a,width:b.b}:"TopicBestPinWide"===c?l={height:h.h,width:h.i}:"TopicBestPinNarrow"===c?l={height:h.b,width:h.c}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(c)?l={height:b.o,width:b.o}:o&&(l=o);const d=["ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(c);let m="none";"string"!=typeof l&&(m="cover",(d||"ShoppingSquareGridCrop"===c&&n||"ShoppingDynamicHeightGrid"===c&&!r)&&(m="contain"));const f=d||"ShoppingDynamicHeightGrid"===c?"transparent":"dominant",g=(e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"})(c);return{autoplaySettingOff:"undefined"!=typeof window&&0===p.c.getItem(u.a.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:f,imageFit:m,isDenseView:t,isSocialSeasonalBoard:i,resolution:null!=a?a:"default",rootMargin:g,pinImageCrop:l,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(c),showPromotedVideos:s}}const f=["ShoppingCatalogsProductsMetadata"];var g=n("8A+h"),j=n("clxp");const O={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var _=n("1Fta"),y=n("Ye/N"),x=n("vvax");var w=n("63p3");var v=n("Zygf");var S=n("v/Q4"),T=n("gC5q"),I=n("T5j3"),C=n("Y8Sn"),P=n("ENhS"),E=n("gD/Z"),k=n("N89m"),R=n("EPem");const D=["CloseupRelatedProducts","ConversationView","CreatorProfilePinGrid","ProductPinsFeed","UserProfilePinGrid"];function L({attributionOption:e,board:t,boardActivityOptions:n,contentType:i,feedbackData:o,feedbackType:r,hasCarouselData:a,isGroupBoard:c,isOwnBoard:d,pin:u,showImageOnly:p,showNativeReactions:h,surface:b,viewer:m}){const{isPromoted:f}=Object(s.a)(u),{promoter:g,unified_user_note:j,pin_note:O}=u,_=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:o,surface:r}){const{is_downstream_promotion:a,native_creator:s,promoter:c,sponsorship:l}=i;if("promoted"===t||c&&!a||l)return"default";if(D.includes(r))return"none";if(n)return"none";let d="default";return e&&("image-only"===e?d="image-only-credit":"hide"===e&&(d="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?d:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":s?"default":"none":d}({attributionOption:e,feedbackType:r,isGroupBoard:c,pin:u,showImageOnly:p,surface:b}),y=p?"":l({isGroupBoard:c,pin:u,surface:b}),x=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(b)&&!f&&!p&&Boolean(Object(k.a)(u)),w="BaseBoardPinGrid"===b&&!f&&j?j.trim():null,v="BaseBoardPinGrid"===b&&O?O.text.trim():null,S=f,T="shopping"===i,I=/ShoppingSquareGridRelatedProducts/.test(b);let C=2;f?C=3:(x||"none"!==_)&&(C=T||I?2:1);let P,E;if(T||f&&I){var L,N;const e=null===(L=u.rich_summary)||void 0===L||null===(N=L.products)||void 0===N?void 0:N[0],{offer_summary:t}=e||{};P=t?t.standard_price:void 0,E=t?t.price||t.max_price:void 0}const B=T||["ShoppingDynamicHeightGrid","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(b)?20:30;let A;A=c?25:"CloseupRelatedProducts"===b?23:B;const U=Object(R.c)(u,m),M="CreatorProfilePinGrid"!==b;return{attributionType:_,contentType:i,feedbackData:o,feedbackType:r,isDarkPromoter:!f&&!!g,pinNoteText:v,pinTitle:y,productOriginalPrice:P,productCurrentPrice:E,showBoardActivityReply:"no-reply"!==n,showCarouselEllipsis:a,showGroupBoardAvatar:c,showFavoriteButton:"BaseBoardPinGrid"===b&&d&&!!t&&!t.should_show_board_activity,showOverflowMenu:S,showPinStats:U,showNativeReactions:h,showSource:x,showTextContent:M,singleLineMaxLength:A,titleLines:C,userNote:w,board:t}}var N=n("g5OB"),B=n("W5T3"),A=n("QAzJ"),U=n("0S8y");const M=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","TopicBestPinNarrow","TopicBestPinWide"],F=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins"],H=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","ShoppingCatalogsProductsMetadata"];t.a=Object(r.connect)((function({boards:{isSocialSeasonalBoard:e=!1,content:t={}},pins:n},{pin:i,pinId:o}){const r=n[o]||i,a=r.board&&r.board.id,s=(a?t[""+a]:void 0)||r.board;return r.grid_title=r.grid_title||i.grid_title,{board:s,isSocialSeasonalBoard:e,reduxPin:r}}),()=>({}))((function({blockClickEvents:e,attributionOption:t,board:n,boardActivityOptions:u,debugImpressionState:p,feedbackOptions:h,imageOnlyOption:b="default",isSocialSeasonalBoard:k,pinImageCrop:R,pinImageFit:D,reduxPin:G,resolution:V="default",saveButtonOptions:z,surface:W,trackingParameters:q,...Y}){const{collaborated_by_me:K,collaborator_count:X,is_collaborative:$}=n||{},{pinner:Z,showFeedback:J,sponsorship:Q}=G,ee=Object(v.a)(G),te=Object(S.a)(),{slotIndex:ne,viewParameter:ie}=q,{anyEnabled:oe}=Object(A.a)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(W)),re=Object(r.useSelector)(({ui:e})=>e.views),ae=Object(r.useSelector)(({ui:e})=>e),se=ae.app?ae.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},ce=Object(C.k)(G.id,se),le=function(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}(G),de=Object(w.a)(G)||le,ue=te.isAuth&&te.isEmployee,pe=te.isAuth&&(Object(U.c)({user:te})||Object(U.e)({user:te}))&&!te.isPartner;let he=pe;"TodayArticleFeed"===W&&(he=!1),"default"!==b&&(he="image-only"===b),function(e){return c.c.includes(e)}(W)&&(he=!1);let be=t;pe&&!be&&(be="image-only");const me=function({feedbackOptions:e,pin:t,viewParameter:n}){const{board:i,pinner:o}=t,{getFeedbackType:r}=Object(_.a)({i18n:y.a,interpolateNamedTemplate:x.b});return r({board:i,feedback:e,pin:t,pinner:o,viewParameter:n})}({feedbackOptions:h,pin:G,viewParameter:ie}),{data:fe}=h||{},ge=X>0||$,je=function(e,t){if("OtherProfilePinGrid"===t)return!0;const n=O[t];return!!n&&"dense"===e[n]}(re,W),Oe=ge&&"BaseBoardPinGrid"===W,_e=Object(g.a)(te,n),ye=Boolean(te.isAuth&&Z&&Z.id===te.id),xe=K||ge&&_e,we=te.isAuth&&te.isPartner,ve=G.is_quick_promotable&&"ShoppingSquareGridHomefeedBoth"!==W,{anyEnabled:Se}=Object(A.a)("web_lego_save_flow",!["HomefeedMoreIdeasTabs"].includes(W)),Te=Object(o.useMemo)(()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:o,isOwnPin:r,isQuickPromotable:s,isRemovable:l,saveButtonOptions:d,surface:u,viewer:p,viewerIsCollaborator:h,shouldUseLegoStyles:b}){const m=p.isAuth?p.boardCount:void 0;let g=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(m);s?g={type:"promote"}:(h||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(u))&&(g={type:"classic"}),i&&(g={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===u}),(l||f.includes(u))&&(g={type:"none"});const j=o&&!n,O=e&&Object(a.a)({action:4,board:e})||r;return{board:e,derivedSaveButtonOptions:g,showEditButton:Boolean(j||"UserProfilePinGrid"===u&&O),showLikeButton:h&&n&&c.d.includes(u),supportsReactionBar:!t,shouldUseLegoStyles:b}}({isDenseView:je,isGroupBoard:Oe,isOwnBoard:_e,isOwnPin:ye,isQuickPromotable:ve,isRemovable:ee,saveButtonOptions:z,surface:W,viewer:te,viewerIsCollaborator:xe,board:n,isInlineBetterSave:oe,shouldUseLegoStyles:Se}),[Oe,_e,ye,ve,ee,z,W,te,n,oe,Se]),{isPromoted:Ie}=Object(s.a)(G),{anyEnabled:Ce,group:Pe}=Object(A.d)("web_shopping_grid_labels");let Ee;Ce&&["ShoppingDynamicHeightGrid","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProducts","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(W)&&!Ie&&(["enabled_popular_bestseller_colorful","enabled_popular_colorful","enabled_pwt","employees"].includes(Pe)?Ee="pine":["enabled_popular_bestseller_neutral","enabled_popular_neutral"].includes(Pe)&&(Ee="white"));const ke=Object(o.useMemo)(()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:c.b.includes(n),shoppingLabelColor:t}}({allowProductCarousel:le,shoppingLabelColor:Ee,surface:W}),[le,Ee,W]),Re=de,De=Object(o.useMemo)(()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:o,isOwnBoard:r,pin:c,surface:u}){const p=Boolean(null==e?void 0:e.is_collaborative),{isOwnPin:h,isPromoted:b}=Object(s.a)(c),m=l({isGroupBoard:o,pin:c,surface:u}),f=e&&Object(a.a)({action:4,board:e})||h;let g="default";return i&&(g=o?"icon-only":"truncated-text"),{actionBarEditBeforeShare:p,feedbackData:t,feedbackType:n,layout:o&&i?"equally-spaced":"default",pinTitle:m,showEditButton:o&&f,showOverflowMenu:!(b||r||o||d.includes(u)),showShareButton:"CloseupRelatedProducts"!==u,sourceLinkStyle:g}}({board:n,feedbackData:fe,feedbackType:me,isDenseView:je,isGroupBoard:Oe,isOwnBoard:_e,pin:G,surface:W}),[n,fe,me,je,Oe,_e,G,W]),Le=!Ie&&["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridCrop","ShoppingSquareGridDomain","ShoppingSquareGridHomefeedBoth","ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridRelatedProductsMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(W)?"shopping":"standard",Ne=Object(I.c)(G),Be=Object(o.useMemo)(()=>L({attributionOption:be,board:n,boardActivityOptions:u,contentType:Le,feedbackData:fe,feedbackType:me,hasCarouselData:de,isGroupBoard:Oe,isOwnBoard:_e,pin:G,showImageOnly:he,showNativeReactions:Ne,surface:W,viewer:te}),[be,n,u,Le,fe,me,de,Oe,_e,G,he,Ne,W,te]),Ae=Boolean(Be.pinTitle)||Be.contentType||Be.userNote||Be.showSource||"none"!==Be.attributionType||Be.showNativeReactions||Be.productCurrentPrice||Be.productOriginalPrice||Be.showPinStats,{anyEnabled:Ue}=Object(A.a)("mweb_web_sponsored_pins",!!Q);let Me=Ae||Oe;"BaseBoardPinGrid"===W&&_e&&we||Q&&Ue?Me=!0:M.includes(W)||je&&_e||k?Me=!1:ye||"CreatorProfilePinGrid"!==W||(Me=!1);const Fe=Boolean(J),{anyEnabled:He,customActivate:Ge}=Object(A.c)("web_others_board_feed_ads_border");let Ve=!1;"BaseBoardPinGrid"===W&&Ie&&(Ve=He,Ge());const ze={showNoPinBorderRadius:"TopicBestPinNarrow"===W||"TopicBestPinWide"===W,showPromotedPinBorderTreatment:Ve,shouldUseLegoWash:!!Se},{anyEnabled:We}=Object(A.a)("hfp_homefeed_control_cta_variants"),qe=Fe?{feedbackType:me,isHomefeedTunerVariantExp:We}:void 0,{anyEnabled:Ye}=Object(A.d)("ads_desktop_video_ads"),Ke=R&&"string"!=typeof R?[R.height,R.width]:[R],Xe=Object(o.useMemo)(()=>m({hasCarouselData:de,isDenseView:je,isPromoted:Ie,isSocialSeasonalBoard:k,pinImageCrop:R,pinImageFit:D,resolution:V,showPromotedVideos:Ye,surface:W}),[de,je,Ie,k,D,V,Ye,W,...Ke]),$e=ue&&Object(B.a)(),Ze=Object(o.useMemo)(()=>({debugImpressionState:p,slotIndex:ne}),[p,ne]);return Object(i.jsx)(j.a,{name:"PinRepConfiguration",children:Object(i.jsx)(E.a,{value:q,children:Object(i.jsx)(P.a,{value:{surface:W},children:Object(i.jsx)(N.b,{actionBarProps:De,blockClickEvents:e,currentlyPlayingVideo:ce,footerProps:Be,forcePrimaryContentVisibility:["HomefeedMoreIdeasTabs"].includes(W),impressionsDebuggerProps:Ze,obscuredPinOverlayProps:qe,pin:G,pinVisualProps:Xe,presentationProps:ze,primaryContentProps:Te,secondaryContentProps:ke,showAccessoryContent:Re,showActionBar:!H.includes(W),showFooter:Me,showImpressionsDebugger:$e,showObscuredPinOverlay:Fe,showPrimaryAndSecondaryContent:!F.includes(W),showSignalDebugger:ue,surface:W,...Object(T.b)(Y,["pinId"])})})})})}))},w1Xl:function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("nKUr"),o=n("Ye/N"),r=n("7w6Q"),a=n("eOdZ"),s=n("U4JR"),c=n("n6mq");function l(e){const{identifier:t,onUndoHide:n,isGroupChat:l}=e,d=async()=>{const i=a.a.create("ShareSuggestionsHideResource",{user_identifier:t});await i.callDelete(),n(),(()=>{const{component:t,element:n}=e;Object(s.b)(101,{component:t,element:n}),r.a.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return Object(i.jsxs)(c.e,{display:"flex",children:[Object(i.jsx)(c.e,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"80%",children:Object(i.jsx)(c.U,{inline:!0,color:"gray",children:l?o.a._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):o.a._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),Object(i.jsx)(c.e,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center",children:Object(i.jsx)(c.f,{onClick:({event:e})=>{e.stopPropagation(),d()},text:o.a._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button",inline:!0})})]})}},wvsB:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return m}));var i=n("nKUr"),o=n("q1tI"),r=n("Vt0H"),a=n("Ye/N"),s=n("U4JR"),c=n("pLLR"),l=n("n6mq");const d="enabled_holdout",u=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,o=!(null===(r=window)||void 0===r?void 0:r.devicePixelRatio)||window.devicePixelRatio<=1?"1x":"2x";var r;return n?"4g"===n?i="40-80":(o="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:o}};function p(e,t){const n=e.experiments;let i,o;return t?(i=n.getWithActivation("web_story_pin_mp4").group,o=n.getWithActivation("web_preload_story_pin_video_in_feed").group):(i=n.getWithoutActivation("web_story_pin_mp4").group,o=n.getWithoutActivation("web_preload_story_pin_video_in_feed").group),["control","enabled_hover","enabled_click"].includes(o)?d:i}function h(e,t){const{video_list:n={}}=e;let i=n.V_720P||void 0,o=n.V_HLSV3_MOBILE||void 0;if(t.startsWith("enabled")){const{downloadSpeedGroup:e,screenDimension:t}=u(),r={"1x":n.V_EXP3,"2x":n.V_EXP5},a={"1x":n.V_EXP7,"2x":n.V_EXP7};i={unknown:r,"0-1":r,"1-5":{"1x":n.V_EXP4,"2x":n.V_EXP5},"5-10":{"1x":n.V_EXP5,"2x":n.V_EXP5},"10-20":{"1x":n.V_EXP6,"2x":n.V_EXP6},"20-40":a,"40-80":a,"80_or_above":a}[e][t]||i,o=i?void 0:o}return{hlsv3:o,mp4:i}}class b extends o.PureComponent{constructor(...e){var t,n,i;super(...e),t=this,n="startAudiblePlayTime",i=this.props.muted?null:new Date,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){const{musicRecordingId:e,muted:t,pinId:n,requestContext:i,video:o}=this.props;if(e&&!t&&this.startAudiblePlayTime){if(new Date-this.startAudiblePlayTime>=2e3){const t=p(i,!1),{hlsv3:r,mp4:a}=h(o,t)||{},c=r||a,l=(null==c?void 0:c.duration)||0;Object(s.b)(8999,{objectId:e,pin_id:n,story_pin_music_duration:l})}}}render(){const{activePageIndex:e,blockHeight:t,blockPosition:n,blockWidth:o,isPlaying:s,muted:c,onEnded:d,onUpdateVideoInfo:u,pageIndex:b,pinId:m,requestContext:f,video:g}=this.props,j=p(f,!0),{hlsv3:O,mp4:_}=h(g,j)||{},y=O||_;if(!y)return null;const{height:x,thumbnail:w,width:v}=y,S=v/x,T={height:"100%",left:"0",top:"0",width:"100%"},I=o/t;if(Math.abs(I-S)>.01)if(I<S){const e=100*S/I;T.width=e+"%",T.left=`-${(e-100)/2}%`}else if(I>S){const e=100*I/S;T.height=e+"%",T.top=`-${(e-100)/2}%`}let C=!1;return C=f.experiments.getWithActivation("web_story_pin_preload_second_page").group.startsWith("enabled")?"number"==typeof e&&b<=e+3:!!e&&b<=e+3,Object(i.jsx)(l.e,{height:t,overflow:"hidden",position:"relative",width:o,children:Object(i.jsx)(l.e,{dangerouslySetInlineStyle:{__style:{left:n.left<0?n.left:0,top:n.top<0?n.top:0}},height:"100%",position:"absolute",width:"100%",children:C||s?Object(i.jsx)(l.e,{dangerouslySetInlineStyle:{__style:T},position:"absolute",children:Object(i.jsx)(r.a,{loop:!0,autoplay:s,contextLogData:{component:0===b?227:228,element:10957,objectId:m,story_pin_page_id:b,view:3,viewParameter:157},customThumbnail:w,isPromoted:!1,muted:c,pinId:m,showControls:!1,variant:"legacy",objectFit:!O&&_?"cover":void 0,video:{id:g.id,hlsv3:O,mp4:_},onTimeChange:({time:e})=>{if(u&&"number"==typeof y.duration&&y.duration>0){const t=y.duration/1e3;u(e,t)}},onEnded:()=>{d&&d(b)}})}):Object(i.jsx)(l.w,{alt:a.a._("Story Pin video cover image","closeup.storyPin.videoCover","cover image displayed for a video"),fit:"cover",naturalHeight:x,naturalWidth:v,src:w})})})}}function m(e){return Object(i.jsx)(b,{...e,requestContext:Object(c.d)()})}},wzxk:function(e,t,n){n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("9Hsp");const o=e=>"string"==typeof e?e:"",r=e=>e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title,a=e=>{const{grid_title:t}=e||{},{hasRichAttributionTitle:n,hasPlaceInfo:i}=(e=>{const{place_summary:t,rich_summary:n}=e||{},i=n&&"mobile application"!==n.type_name;return{hasRichSummary:i,hasRichAttributionTitle:i&&n.display_name,hasPlaceInfo:!!t}})(e),o=r(e);return t&&t.trim()?t.trim():n?(e=>{const{rich_summary:t}=e;let{apple_touch_icon_images:n,favicon_images:i}=t;return n=n||{},i=i||{},{faviconLink:n["50x"]||i["50x"]||n.orig||i.orig,siteName:t.site_name||e.domain,title:t.display_name}})(e).title:i?(e=>{const{place_summary:t}=e;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}})(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&o?o:null},s=e=>{const t=e.pin_join||{},n=t.visual_annotation||[],o=n.map(e=>(t.annotations_with_links||{})[e]||{name:e,url:""});let r="";const a=(e.rich_metadata||{}).description||"",s=e.closeup_unified_description||"",c=(e=>e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||"")(e).toLocaleLowerCase().trim(),l=a.toLocaleLowerCase().trim(),d=s.toLocaleLowerCase().trim();return s&&s.length>3&&d!==c?r=s:a&&a.length>3&&l!==c&&(r=a),r&&(r=Object(i.a)(Object(i.b)(r,496)).trim()),{description:r,vaseAnnotations:n,annotationsWithLinks:o}},c=(e,t,n)=>{const i=o(e);let r=i;if(n){const e=n.seo_description;if(e){const n=e.toLowerCase(),a=o(t);n!==i.toLowerCase()&&n!==a.trim().toLowerCase()&&(r=e)}let a=n.visual_annotation;a&&(a=a.join(", "),r&&(r+=" "),r+=a)}return r}},"x/xQ":function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/love-c31e0b8d.svg"},yjg8:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"i",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"m",(function(){return m})),n.d(t,"l",(function(){return f}));const i=236,o=2*i/3,r=24,a=2,s=125,c=16,l=14,d=16,u=e=>e||d,p=900,h=16,b=24,m=(e=!1,t=!1)=>e?t?h:12:b,f=(e,t,n,i,o=l)=>{const r=e+o;return`\n@media (min-width: ${t*r}px) and (max-width: ${(n+1)*r-1}px) {\n  ${i}\n}\n`}},ynlw:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("63p3"),o=n("Y8Sn");function r(e){const{access:t,attribution:n,buyable_product:r,embed:a,is_eligible_for_web_closeup:s,rich_summary:c,story_pin_data_id:l,videos:d}=e,u={isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isStoryPin:!1,isVideo:!1};Object(i.a)(e)&&(u.isCarousel=!0),s&&(u.isOneTap=!0),Object(o.j)(d)&&(u.isVideo=!0);const p=a||n&&n.embed||null;return p&&"gif"===p.type&&(u.isGif=!0),(r||c&&"product"===c.type_name)&&(u.isProduct=!0),c&&"recipe"===c.type_name&&(u.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(u.isPromoted=!0),(t||[]).includes("write")&&(u.isOwnPin=!0),l&&(u.isStoryPin=!0),u}},zq6P:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("q1tI");const o=Object(i.createContext)(Object.freeze({})),r=o.Provider;function a(){return Object(i.useContext)(o)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/14-2cff64344d750eb40045.mjs.map